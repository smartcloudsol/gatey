var js=Object.defineProperty;var yt=(e,t)=>()=>(e&&(t=e(e=0)),t);var zs=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})};var a,o=yt(()=>{a=["DxwdGh","hWQkFL","CzczNh","AxDz4x","BFQYEx","MYFuev","9fP38O","/z7afj","5KP+5/","v1vg=="]});var Vc,ae,yo,Er=yt(()=>{"use strict";o();Vc=async e=>{let t=ae("emUgRnVEemN0U1BhUXB3amlxc1h0dm9JQklUbXh5Z2YaSRZeZ2EABH5lZgU=",e),r=Uint8Array.from(atob(t),n=>n.charCodeAt(0));return window.crypto.subtle.importKey("raw",r,{name:"AES-CBC",length:256},!1,["decrypt"])},ae=(e,t)=>{let n=Uint8Array.from(atob(e),i=>i.charCodeAt(0)).map((i,s)=>i^t+s&255);return new TextDecoder().decode(n)},yo=async(e,t)=>{if(e==="")return Promise.resolve({});try{let[r,n]=e.split(":"),i=await Vc(t),s=new Uint8Array(atob(r).split("").map(f=>f.charCodeAt(0))),c=new Uint8Array(atob(n).split("").map(f=>f.charCodeAt(0))),u=await window.crypto.subtle.decrypt({name:"AES-CBC",iv:s},i,c);return JSON.parse(new TextDecoder().decode(u))}catch(r){console.error(r);return}}});var is,ss,as,cs,us,fs,ds,ps,ls=yt(()=>{"use strict";o();Er();is=ae(a.join(""),103),ss="FAEdDyII",as=ae("AQ0dCQM=",103),cs=ae("WBxU",103),us=ae("QQBU",103),fs=ae("FAEdDyII",103),ds=ae("FB0LGQgeBAwKAg==",103),ps=ae("CwkaHj4cCQ8bFQ==",103)});var Es={};zs(Es,{getConfigFromStorage:()=>Bc});var ms,gs,hs,ys,So,Ss,As,Is,Bc,$c,_s=yt(()=>{"use strict";o();ls();ms=Math.min(Math.round(Math.random()*256),255),Ss=!1,Bc=async()=>{let e;if(Ss&&So){let t=is.replace("${"+ss+"}",So);e=await gs(t+hs+As+ys+Is).then(r=>r.text()).catch(()=>{})}return e??""};ms=13;gs=window[as];hs=cs;ys=us;So=Gatey.siteSettings[fs];Ss=Gatey.siteSettings[ds];As=Gatey.siteSettings[ps];$c=(e,t)=>{let n=new TextEncoder().encode(e).map((i,s)=>i^t+s&255);return Buffer.from(n).toString("base64")};Is=encodeURIComponent($c(window.location.hostname,ms))});o();o();o();o();o();o();var C=class e extends Error{constructor({message:t,name:r,recoverySuggestion:n,underlyingError:i,metadata:s}){if(super(t),this.name=r,this.underlyingError=i,this.recoverySuggestion=n,s){let{extendedRequestId:c,httpStatusCode:u,requestId:f}=s;this.metadata={extendedRequestId:c,httpStatusCode:u,requestId:f}}this.constructor=e,Object.setPrototypeOf(this,e.prototype)}};o();var K;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(K||(K={}));o();var ue=(e,t=C)=>(r,n,i)=>{let{message:s,recoverySuggestion:c}=e[n];if(!r)throw new t({name:n,message:i?`${s} ${i}`:s,recoverySuggestion:c})};var Ro=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new C({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})};o();o();var Oo="Logging",vr="x-amz-user-agent",Uo="NoHubcallbackProvidedException";o();var M;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(M||(M={}));var No={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6},S=class e{constructor(t,r=M.WARN){this.name=t,this.level=r,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){let t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...r){let n=this.level;e.LOG_LEVEL&&(n=e.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let i=No[n];if(!(No[t]>=i))return;let c=console.log.bind(console);t===M.ERROR&&console.error&&(c=console.error.bind(console)),t===M.WARN&&console.warn&&(c=console.warn.bind(console)),e.BIND_ALL_LOG_LEVELS&&(t===M.INFO&&console.info&&(c=console.info.bind(console)),t===M.DEBUG&&console.debug&&(c=console.debug.bind(console)));let u=`[${t}] ${this._ts()} ${this.name}`,f="";if(r.length===1&&typeof r[0]=="string")f=`${u} - ${r[0]}`,c(f);else if(r.length===1)f=`${u} ${r[0]}`,c(u,r[0]);else if(typeof r[0]=="string"){let d=r.slice(1);d.length===1&&(d=d[0]),f=`${u} - ${r[0]} ${d}`,c(`${u} - ${r[0]}`,d)}else f=`${u} ${r}`,c(u,r);for(let d of this._pluggables){let p={message:f,timestamp:Date.now()};d.pushLogs([p])}}log(...t){this._log(M.INFO,...t)}info(...t){this._log(M.INFO,...t)}warn(...t){this._log(M.WARN,...t)}error(...t){this._log(M.ERROR,...t)}debug(...t){this._log(M.DEBUG,...t)}verbose(...t){this._log(M.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===Oo&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}};S.LOG_LEVEL=null;S.BIND_ALL_LOG_LEVELS=!1;o();var ze=()=>typeof window<"u"&&typeof window.document<"u";o();function Mo(e=3e5){return n=>{let i=2**n*100+100*Math.random();return i>e?!1:i}}o();function Rr(e){return(e.match(/.{2}/g)||[]).map(r=>String.fromCharCode(parseInt(r,16))).join("")}o();var Or=e=>{let t;return async(...r)=>t||(t=new Promise((n,i)=>{e(...r).then(s=>{n(s)}).catch(s=>{i(s)}).finally(()=>{t=void 0})}),t)};o();function St({expiresAt:e,clockDrift:t,tolerance:r=5e3}){return Date.now()+t+r>e}o();var qs=new S("parseAWSExports"),Xs={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},ko=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new C({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:r,aws_appsync_graphqlEndpoint:n,aws_appsync_region:i,aws_bots_config:s,aws_cognito_identity_pool_id:c,aws_cognito_sign_up_verification_method:u,aws_cognito_mfa_configuration:f,aws_cognito_mfa_types:d,aws_cognito_password_protection_settings:p,aws_cognito_verification_mechanisms:g,aws_cognito_signup_attributes:l,aws_cognito_social_providers:y,aws_cognito_username_attributes:E,aws_mandatory_sign_in:V,aws_mobile_analytics_app_id:L,aws_mobile_analytics_app_region:ce,aws_user_files_s3_bucket:Ee,aws_user_files_s3_bucket_region:lt,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:mt,aws_user_pools_id:gt,aws_user_pools_web_client_id:xr,geo:ht,oauth:Tr,predictions:He,aws_cloud_logic_custom:Co,Notifications:Ls,modelIntrospection:xo}=e,b={};L&&(b.Analytics={Pinpoint:{appId:L,region:ce}});let{InAppMessaging:Pr,Push:br}=Ls??{};if(Pr?.AWSPinpoint||br?.AWSPinpoint){if(Pr?.AWSPinpoint){let{appId:w,region:_e}=Pr.AWSPinpoint;b.Notifications={InAppMessaging:{Pinpoint:{appId:w,region:_e}}}}if(br?.AWSPinpoint){let{appId:w,region:_e}=br.AWSPinpoint;b.Notifications={...b.Notifications,PushNotification:{Pinpoint:{appId:w,region:_e}}}}}if(Array.isArray(s)&&(b.Interactions={LexV1:Object.fromEntries(s.map(w=>[w.name,w]))}),n){let w=Xs[r];w||qs.debug(`Invalid authentication type ${r}. Falling back to IAM.`),b.API={GraphQL:{endpoint:n,apiKey:t,region:i,defaultAuthMode:w??"iam"}},xo&&(b.API.GraphQL.modelIntrospection=xo)}let Ks=f?{status:f&&f.toLowerCase(),totpEnabled:d?.includes("TOTP")??!1,smsEnabled:d?.includes("SMS")??!1}:void 0,Hs=p?{minLength:p.passwordPolicyMinLength,requireLowercase:p.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:p.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:p.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:p.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,Gs=Array.from(new Set([...g??[],...l??[]])).reduce((w,_e)=>({...w,[_e.toLowerCase()]:{required:!0}}),{}),To=E?.includes("EMAIL")??!1,Po=E?.includes("PHONE_NUMBER")??!1;(c||gt)&&(b.Auth={Cognito:{identityPoolId:c,allowGuestAccess:V!=="enable",signUpVerificationMethod:u,userAttributes:Gs,userPoolClientId:xr,userPoolId:gt,mfa:Ks,passwordFormat:Hs,loginWith:{username:!(To||Po),email:To,phone:Po}}});let Vs=Tr?Object.keys(Tr).length>0:!1,Ws=y?y.length>0:!1;if(b.Auth&&Vs&&(b.Auth.Cognito.loginWith={...b.Auth.Cognito.loginWith,oauth:{...Js(Tr),...Ws&&{providers:Qs(y)}}}),Ee&&(b.Storage={S3:{bucket:Ee,region:lt,dangerouslyConnectToHttpEndpointForTesting:mt}}),ht){let{amazon_location_service:w}=ht;b.Geo={LocationService:{maps:w.maps,geofenceCollections:w.geofenceCollections,searchIndices:w.search_indices,region:w.region}}}if(Co&&(b.API={...b.API,REST:Co.reduce((w,_e)=>{let{name:Bs,endpoint:$s,region:bo,service:vo}=_e;return{...w,[Bs]:{endpoint:$s,...vo?{service:vo}:void 0,...bo?{region:bo}:void 0}}},{})}),He){let{VoiceId:w}=He?.convert?.speechGenerator?.defaults??{};b.Predictions=w?{...He,convert:{...He.convert,speechGenerator:{...He.convert.speechGenerator,defaults:{voiceId:w}}}}:He}return b},Do=e=>e?.split(",")??[],Js=({domain:e,scope:t,redirectSignIn:r,redirectSignOut:n,responseType:i})=>({domain:e,scopes:t,redirectSignIn:Do(r),redirectSignOut:Do(n),responseType:i}),Qs=e=>e.map(t=>{let r=t.toLowerCase();return r.charAt(0).toUpperCase()+r.slice(1)});o();function Lo(e){let{version:t}=e;return t?t.startsWith("1"):!1}function Zs(e){if(!e)return;let{bucket_name:t,aws_region:r,buckets:n}=e;return{S3:{bucket:t,region:r,buckets:n&&ua(n)}}}function ea(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:r,identity_pool_id:n,password_policy:i,mfa_configuration:s,mfa_methods:c,unauthenticated_identities_enabled:u,oauth:f,username_attributes:d,standard_required_attributes:p,groups:g}=e,l={Cognito:{userPoolId:t,userPoolClientId:r,groups:g}};return n&&(l.Cognito={...l.Cognito,identityPoolId:n}),i&&(l.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),s&&(l.Cognito.mfa={status:ca(s),smsEnabled:c?.includes("SMS"),totpEnabled:c?.includes("TOTP")}),u&&(l.Cognito.allowGuestAccess=u),f&&(l.Cognito.loginWith={oauth:{domain:f.domain,redirectSignIn:f.redirect_sign_in_uri,redirectSignOut:f.redirect_sign_out_uri,responseType:f.response_type==="token"?"token":"code",scopes:f.scopes,providers:aa(f.identity_providers)}}),d&&(l.Cognito.loginWith={...l.Cognito.loginWith,email:d.includes("email"),phone:d.includes("phone_number"),username:d.includes("username")}),p&&(l.Cognito.userAttributes=p.reduce((y,E)=>({...y,[E]:{required:!0}}),{})),l}function ta(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function ra(e){if(!e)return;let{aws_region:t,geofence_collections:r,maps:n,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:r,maps:n}}}function oa(e){if(!e)return;let{aws_region:t,default_authorization_type:r,url:n,api_key:i,model_introspection:s}=e;return{GraphQL:{endpoint:n,defaultAuthMode:Ho(r),region:t,apiKey:i,modelIntrospection:s}}}function na(e){if(!e?.events)return;let{url:t,aws_region:r,api_key:n,default_authorization_type:i}=e.events;return{Events:{endpoint:t,defaultAuthMode:Ho(i),region:r,apiKey:n}}}function ia(e){if(!e)return;let{aws_region:t,channels:r,amazon_pinpoint_app_id:n}=e,i=r.includes("IN_APP_MESSAGING"),s=r.includes("APNS")||r.includes("FCM");if(!(i||s))return;let c={};return i&&(c.InAppMessaging={Pinpoint:{appId:n,region:t}}),s&&(c.PushNotification={Pinpoint:{appId:n,region:t}}),c}function Ko(e){let t={};if(e.storage&&(t.Storage=Zs(e.storage)),e.auth&&(t.Auth=ea(e.auth)),e.analytics&&(t.Analytics=ta(e.analytics)),e.geo&&(t.Geo=ra(e.geo)),e.data&&(t.API=oa(e.data)),e.custom){let r=na(e.custom);r&&"Events"in r&&(t.API={...t.API,...r})}return e.notifications&&(t.Notifications=ia(e.notifications)),t}var sa={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Ho(e){return sa[e]}var Fo={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function aa(e=[]){return e.reduce((t,r)=>(Fo[r]!==void 0&&t.push(Fo[r]),t),[])}function ca(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function ua(e){let t={};return e.forEach(({name:r,bucket_name:n,aws_region:i,paths:s})=>{if(r in t)throw new Error(`Duplicate friendly name found: ${r}. Name must be unique.`);let c=s?Object.entries(s).reduce((u,[f,d])=>(d!==void 0&&(u[f]=d),u),{}):void 0;t[r]={bucketName:n,region:i,paths:c}}),t}o();var Ye=Symbol("oauth-listener");o();o();o();import fa from"crypto";var It=new Uint8Array(256),At=It.length;function Ur(){return At>It.length-16&&(fa.randomFillSync(It),At=0),It.slice(At,At+=16)}o();var v=[];for(let e=0;e<256;++e)v.push((e+256).toString(16).slice(1));function Go(e,t=0){return v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]}o();o();import da from"crypto";var Nr={randomUUID:da.randomUUID};function pa(e,t,r){if(Nr.randomUUID&&!t&&!e)return Nr.randomUUID();e=e||{};let n=e.random||(e.rng||Ur)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Go(n)}var Mr=pa;var Vo=Mr;o();var U=URL,Et=URLSearchParams;o();var qe=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?ko(e):Lo(e)?Ko(e):e;o();o();var Wo={convert(e,t){let r=e;return t?.urlSafe&&(r=r.replace(/-/g,"+").replace(/_/g,"/")),Ro()(r)}};o();var W;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(W||(W={}));var la={[W.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[W.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[W.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[W.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[W.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},_t=ue(la);function A(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,_t(t,W.AuthUserPoolException)}function we(e){let t=!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType;_t(t,W.OAuthNotConfigureException)}function Ce(e){let t=!!e?.identityPoolId;_t(t,W.InvalidIdentityPoolIdException)}function R(e){let t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(Wo.convert(n).split("").map(c=>`%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),s=JSON.parse(i);return{toString:()=>e,payload:s}}catch{throw new Error("Invalid token payload")}}o();o();var wt=e=>Object.keys(e).map(t=>t.toLowerCase()).sort().join(";");o();o();o();var ma="X-Amz-Date";var ga="X-Amz-Security-Token",Bo="authorization",$o="host",jo=ma.toLowerCase(),zo=ga.toLowerCase(),Ct="aws4_request",xt="AWS4-HMAC-SHA256",Yo="AWS4",qo="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",Xo="UNSIGNED-PAYLOAD";var Jo=(e,t,r)=>`${e}/${t}/${r}/${Ct}`;o();var Qo=e=>{let t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}};var Zo=({credentials:e,signingDate:t=new Date,signingRegion:r,signingService:n,uriEscapePath:i=!0})=>{let{accessKeyId:s,secretAccessKey:c,sessionToken:u}=e,{longDate:f,shortDate:d}=Qo(t),p=Jo(d,r,n);return{accessKeyId:s,credentialScope:p,longDate:f,secretAccessKey:c,sessionToken:u,shortDate:d,signingRegion:r,signingService:n,uriEscapePath:i}};o();o();o();o();o();function en(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(p){try{d(n.next(p))}catch(g){c(g)}}function f(p){try{d(n.throw(p))}catch(g){c(g)}}function d(p){p.done?s(p.value):i(p.value).then(u,f)}d((n=n.apply(e,t||[])).next())})}function tn(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(d){return function(p){return f([d,p])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(p){d=[6,p],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}o();var D=64,rn=32,on=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],sn=Math.pow(2,53)-1;o();var Xe=function(){function e(){this.state=Int32Array.from(nn),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>sn)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===D&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%D>=D-8){for(var i=this.bufferLength;i<D;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<D-8;i++)r.setUint8(i,0);r.setUint32(D-8,Math.floor(t/4294967296),!0),r.setUint32(D-4,t),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(rn),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],s=n[1],c=n[2],u=n[3],f=n[4],d=n[5],p=n[6],g=n[7],l=0;l<D;l++){if(l<16)this.temp[l]=(r[l*4]&255)<<24|(r[l*4+1]&255)<<16|(r[l*4+2]&255)<<8|r[l*4+3]&255;else{var y=this.temp[l-2],E=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[l-15];var V=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[l]=(E+this.temp[l-7]|0)+(V+this.temp[l-16]|0)}var L=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&d^~f&p)|0)+(g+(on[l]+this.temp[l]|0)|0)|0,ce=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&c^s&c)|0;g=p,p=d,d=f,f=u+L|0,u=c,c=s,s=i,i=L+ce|0}n[0]+=i,n[1]+=s,n[2]+=c,n[3]+=u,n[4]+=f,n[5]+=d,n[6]+=p,n[7]+=g},e}();o();o();o();o();o();o();import{Buffer as an}from"buffer";var cn=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?an.from(e,t):an.from(e)};var Dr=e=>{let t=cn(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};o();o();var ha=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Dr;function Tt(e){return e instanceof Uint8Array?e:typeof e=="string"?ha(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o();function kr(e){return typeof e=="string"?e.length===0:e.byteLength===0}o();o();var un=function(){function e(t){this.secret=t,this.hash=new Xe,this.reset()}return e.prototype.update=function(t){if(!(kr(t)||this.error))try{this.hash.update(Tt(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return en(this,void 0,void 0,function(){return tn(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Xe,this.secret){this.outer=new Xe;var t=ya(this.secret),r=new Uint8Array(D);r.set(t);for(var n=0;n<D;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e}();function ya(e){var t=Tt(e);if(t.byteLength>D){var r=new Xe;r.update(t),t=r.digest()}var n=new Uint8Array(D);return n.set(t),n}o();var fn={},Sa={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),fn[e]=t,Sa[t]=e}function dn(e){let t="";for(let r=0;r<e.byteLength;r++)t+=fn[e[r]];return t}var Ge=(e,t)=>{let r=new un(e??void 0);return r.update(t),r.digestSync()},Je=(e,t)=>{let r=Ge(e,t);return dn(r)};o();o();var pn=e=>Object.entries(e).map(([t,r])=>({key:t.toLowerCase(),value:r?.trim().replace(/\s+/g," ")??""})).sort((t,r)=>t.key<r.key?-1:1).map(t=>`${t.key}:${t.value}
`).join("");o();var mn=e=>Array.from(e).sort(([t,r],[n,i])=>t===n?r<i?-1:1:t<n?-1:1).map(([t,r])=>`${ln(t)}=${ln(r)}`).join("&"),ln=e=>encodeURIComponent(e).replace(/[!'()*]/g,Aa),Aa=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;o();var gn=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/";o();var hn=e=>e==null?qo:Ia(e)?Je(null,e):Xo,Ia=e=>typeof e=="string"||ArrayBuffer.isView(e)||Ea(e),Ea=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var yn=({body:e,headers:t,method:r,url:n},i=!0)=>[r,gn(n.pathname,i),mn(n.searchParams),pn(t),wt(t),hn(e)].join(`
`);o();var Sn=(e,t,r,n)=>{let i=`${Yo}${e}`,s=Ge(i,t),c=Ge(s,r),u=Ge(c,n);return Ge(u,Ct)};o();var An=(e,t,r)=>[xt,e,t,r].join(`
`);var In=(e,{credentialScope:t,longDate:r,secretAccessKey:n,shortDate:i,signingRegion:s,signingService:c,uriEscapePath:u})=>{let f=yn(e,u),d=Je(null,f),p=An(r,t,d);return Je(Sn(n,i,s,c),p)};var En=(e,t)=>{let r=Zo(t),{accessKeyId:n,credentialScope:i,longDate:s,sessionToken:c}=r,u={...e.headers};u[$o]=e.url.host,u[jo]=s,c&&(u[zo]=c);let f={...e,headers:u},d=In(f,r),p=`Credential=${n}/${i}`,g=`SignedHeaders=${wt(u)}`,l=`Signature=${d}`;return u[Bo]=`${xt} ${p}, ${g}, ${l}`,f};o();o();var I;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(I||(I={}));var Qe;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(Qe||(Qe={}));var Fr;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"})(Fr||(Fr={}));var Lr;(function(e){e.Record="1",e.IdentifyUser="2"})(Lr||(Lr={}));var Kr;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(Kr||(Kr={}));var k;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"})(k||(k={}));var Hr;(function(e){e.Subscribe="1",e.GraphQl="2"})(Hr||(Hr={}));var Gr;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(Gr||(Gr={}));var Vr;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(Vr||(Vr={}));var Wr;(function(e){e.None="0"})(Wr||(Wr={}));var Br;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(Br||(Br={}));var $r;(function(e){e.Subscribe="1"})($r||($r={}));var jr;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(jr||(jr={}));var zr;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"})(zr||(zr={}));o();var Yr="6.15.0";o();o();o();o();var me=()=>typeof global<"u";var G=()=>typeof window<"u",Pt=()=>typeof document<"u",Ve=()=>typeof process<"u",ge=(e,t)=>!!Object.keys(e).find(r=>r.startsWith(t));function _n(){let e=n=>n.startsWith("_react")||n.startsWith("__react"),t=n=>Object.keys(n).find(e),r=()=>Array.from(document.querySelectorAll("[id]"));return Pt()&&r().some(t)}function wn(){return Ve()&&typeof process.env<"u"&&!!Object.keys(process.env).find(e=>e.includes("react"))}o();function Cn(){return G()&&ge(window,"__VUE")}function xn(){return me()&&ge(global,"__VUE")}o();function Tn(){return G()&&ge(window,"__SVELTE")}function Pn(){return Ve()&&typeof process.env<"u"&&!!Object.keys(process.env).find(e=>e.includes("svelte"))}o();function bn(){return G()&&window.next&&typeof window.next=="object"}function vn(){return me()&&(ge(global,"__next")||ge(global,"__NEXT"))}o();function Rn(){return G()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function On(){return me()&&typeof global.__NUXT_PATHS__<"u"}o();function Un(){let e=!!(Pt()&&document.querySelector("[ng-version]")),t=!!(G()&&typeof window.ng<"u");return e||t}function Nn(){return Ve()&&typeof process.env=="object"&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}o();function Mn(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}o();function Dn(){return me()&&typeof global.expo<"u"}o();function kn(){return G()}var _a=[{platform:I.Expo,detectionMethod:Dn},{platform:I.ReactNative,detectionMethod:Mn},{platform:I.NextJs,detectionMethod:bn},{platform:I.Nuxt,detectionMethod:Rn},{platform:I.Angular,detectionMethod:Un},{platform:I.React,detectionMethod:_n},{platform:I.VueJs,detectionMethod:Cn},{platform:I.Svelte,detectionMethod:Tn},{platform:I.WebUnknown,detectionMethod:kn},{platform:I.NextJsSSR,detectionMethod:vn},{platform:I.NuxtSSR,detectionMethod:On},{platform:I.ReactSSR,detectionMethod:wn},{platform:I.VueJsSSR,detectionMethod:xn},{platform:I.AngularSSR,detectionMethod:Nn},{platform:I.SvelteSSR,detectionMethod:Pn}];function Fn(){return _a.find(e=>e.detectionMethod())?.platform||I.ServerSideUnknown}var Ze,bt=[],vt=!1,wa=10,Ca=10,xa=1e3,Rt=()=>{if(!Ze){if(Ze=Fn(),vt)for(;bt.length;)bt.pop()?.();else bt.forEach(e=>{e()});Ln(I.ServerSideUnknown,wa),Ln(I.WebUnknown,Ca)}return Ze},Kn=e=>{vt||bt.push(e)};function Ta(){Ze=void 0}function Ln(e,t){Ze===e&&!vt&&setTimeout(()=>{Ta(),vt=!0,setTimeout(Rt,xa)},t)}o();var Pa={};var Hn=(e,t)=>Pa[e]?.[t]?.additionalDetails;var Gn="aws-amplify",Vn=e=>e.replace(/\+.*/,""),qr=class{constructor(){this.userAgent=`${Gn}/${Vn(Yr)}`}get framework(){return Rt()}get isReactNative(){return this.framework===I.ReactNative||this.framework===I.Expo}observeFrameworkChanges(t){Kn(t)}},ba=new qr,Wn=({category:e,action:t}={})=>{let r=[[Gn,Vn(Yr)]];if(e&&r.push([e,t]),r.push(["framework",Rt()]),e&&t){let n=Hn(e,t);n&&n.forEach(i=>{r.push(i)})}return r},fe=e=>Wn(e).map(([n,i])=>n&&i?`${n}/${i}`:n).join(" ");o();var et=class e extends C{get response(){return this._response?va(this._response):void 0}constructor(t){super(t),this.constructor=e,Object.setPrototypeOf(this,e.prototype),t.response&&(this._response=t.response)}},va=e=>({...e,headers:{...e.headers}});o();var de=class extends C{constructor(){super({name:K.PlatformNotSupported,message:"Function not supported on current platform"})}};o();var tt=(e,t)=>e.Auth.fetchAuthSession(t);o();var P=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",rt=new S("Hub"),Ot=class{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,r){let n=this.listeners.get(t);if(!n){rt.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...n.filter(({callback:i})=>i!==r)])}dispatch(t,r,n,i){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(i===P||rt.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));let s={channel:t,payload:{...r},source:n,patternInfo:[]};try{this._toListeners(s)}catch(c){rt.error(c)}}listen(t,r,n="noname"){let i;if(typeof r!="function")throw new C({name:Uo,message:"No callback supplied to Hub"});i=r;let s=this.listeners.get(t);return s||(s=[],this.listeners.set(t,s)),s.push({name:n,callback:i}),()=>{this._remove(t,i)}}_toListeners(t){let{channel:r,payload:n}=t,i=this.listeners.get(r);i&&i.forEach(s=>{rt.debug(`Dispatching to ${r} with `,n);try{s.callback(t)}catch(c){rt.error(c)}})}},O=new Ot("__default__"),Ra=new Ot("internal-hub");o();o();o();var Q=class e extends et{constructor(t){super(t),this.constructor=e,Object.setPrototypeOf(this,e.prototype)}};var Ut=class e extends Q{constructor(t={}){super({name:"CanceledError",message:"Request is canceled by user",...t}),this.constructor=e,Object.setPrototypeOf(this,e.prototype)}};o();o();o();o();var Xr=e=>{let t=Reflect.ownKeys(e);for(let r of t){let n=e[r];(n&&typeof n=="object"||typeof n=="function")&&Xr(n)}return Object.freeze(e)};o();var Bn=new S("Auth"),Nt=class{configure(t,r){this.authConfig=t,this.authOptions=r,t&&t.Cognito?.userPoolEndpoint&&Bn.warn($n("Amazon Cognito User Pool")),t&&t.Cognito?.identityPoolEndpoint&&Bn.warn($n("Amazon Cognito Identity Pool"))}async fetchAuthSession(t={}){let r,n,i=await this.getTokens(t);return i?(n=i.accessToken?.payload?.sub,r=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:t.forceRefresh})):r=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh}),{tokens:i,credentials:r?.credentials,identityId:r?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(t){return await this.authOptions?.tokenProvider?.getTokens(t)??void 0}},$n=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;var Mt=class{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Nt}configure(t,r){let n=qe(t);this.resourcesConfig=n,r&&(this.libraryOptions=r),this.resourcesConfig=Xr(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),O.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",P),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[Ye](t){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?t(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=t}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}},h=new Mt;o();var B=e=>tt(h,e);o();function ot(){return h.Auth.clearCredentials()}o();o();var xe=e=>{let{headers:t,statusCode:r}=e;return{...Oa(e)?e.$metadata:{},httpStatusCode:r,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},Oa=e=>typeof e?.$metadata=="object";o();var H=async e=>{if(!e||e.statusCode<300)return;let t=await he(e),n=(c=>{let[u]=c.toString().split(/[,:]+/);return u.includes("#")?u.split("#")[1]:u})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),i=t.message??t.Message??"Unknown error",s=new Error(i);return Object.assign(s,{name:n,$metadata:xe(e)})},he=async e=>{if(!e.body)throw new Error("Missing response payload");let t=await e.body.json();return Object.assign(t,{$metadata:xe(e)})};o();var N=(e,t,r,n)=>async(i,s)=>{let c={...n,...i},u=await c.endpointResolver(c,s),f=await t(s,u),d=await e(f,{...c});return r(d)};o();o();o();var Jr="amz-sdk-invocation-id",jn="amz-sdk-request";var Te=e=>{let r=Mo(3e5)(e);return r===!1?3e5:r};o();o();var Na=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],zn=e=>!!e&&Na.includes(e);var Pe=e=>async(t,r)=>{let n=r??await e(t)??void 0,i=n?.code||n?.name,s=t?.statusCode;return{retryable:Fa(r)||ka(s,i)||zn(i)||La(s,i)}},Ma=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Da=["TimeoutError","RequestTimeout","RequestTimeoutException"],ka=(e,t)=>e===429||!!t&&Ma.includes(t),Fa=e=>[K.NetworkError,"ERR_NETWORK"].includes(e?.name),La=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&Da.includes(t);var Qr="cognito-identity",Dt={service:Qr,retryDecider:Pe(H),computeDelay:Te,cache:"no-store"};o();o();o();var be=({maxAttempts:e=3,retryDecider:t,computeDelay:r,abortSignal:n})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(i,s)=>async function(u){let f,d=s.attemptsCount??0,p,g=()=>{if(p)return Yn(p,d),p;throw Yn(f,d),f};for(;!n?.aborted&&d<e;){try{p=await i(u),f=void 0}catch(E){f=E,p=void 0}d=(s.attemptsCount??0)>d?s.attemptsCount??0:d+1,s.attemptsCount=d;let{isCredentialsExpiredError:l,retryable:y}=await t(p,f,s);if(y){if(s.isCredentialsExpired=!!l,!n?.aborted&&d<e){let E=r(d);await Ka(E,n)}continue}else return g()}if(n?.aborted)throw new Error("Request aborted.");return g()}},Ka=(e,t)=>{if(t?.aborted)return Promise.resolve();let r,n,i=new Promise(s=>{n=s,r=setTimeout(s,e)});return t?.addEventListener("abort",function s(c){clearTimeout(r),t?.removeEventListener("abort",s),n()}),i},Yn=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})};o();var Xn=()=>e=>async function(r){return r.headers[Jr]||(r.headers[Jr]=Vo()),e(r)};o();var Jn=({maxAttempts:e=3})=>(t,r)=>async function(i){let s=r.attemptsCount??0;return i.headers[jn]=`attempt=${s+1}; max=${e}`,t(i)};o();var ve=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>r=>async function(i){if(t.trim().length===0)return await r(i);{let s=e.toLowerCase();return i.headers[s]=i.headers[s]?`${i.headers[s]} ${t}`:t,await r(i)}};o();var $=(e,t)=>(r,n)=>{let i={},s=c=>e(c,n);for(let c=t.length-1;c>=0;c--){let u=t[c];s=u(n)(s,i)}return s(r)};o();o();var kt=e=>{let t;return()=>(t||(t=e()),t)};var Ha=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),Re=async({url:e,method:t,headers:r,body:n},{abortSignal:i,cache:s,withCrossDomainCredentials:c})=>{let u;try{u=await fetch(e,{method:t,headers:r,body:Ha(t)?n:void 0,signal:i,cache:s,credentials:c?"include":"same-origin"})}catch(g){throw g instanceof TypeError?new C({name:K.NetworkError,message:"A network error has occurred.",underlyingError:g}):g}let f={};u.headers?.forEach((g,l)=>{f[l.toLowerCase()]=g});let d={statusCode:u.status,headers:f,body:null},p=Object.assign(u.body??{},{text:kt(()=>u.text()),blob:kt(()=>u.blob()),json:kt(()=>u.json())});return{...d,body:p}};var nt=$(Re,[ve,Xn,be,Jn]);o();var Qn=()=>e=>async function(r){return r.headers["cache-control"]="no-store",e(r)};var Ft=$(nt,[Qn]);o();var Lt=e=>(t,r)=>{let n=Ga(e),i=JSON.stringify(t);return Va(r,n,i)},Ga=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),Va=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"});var Kt=e=>N(Ft,Lt("GetCredentialsForIdentity"),Wa,{...Dt,...e,userAgentValue:fe()}),Wa=async e=>{if(e.statusCode>=300)throw await H(e);let t=await he(e);return{IdentityId:t.IdentityId,Credentials:Ba(t.Credentials),$metadata:xe(e)}},Ba=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(e*1e3)});o();var Zr=e=>N(Ft,Lt("GetId"),$a,{...Dt,...e,userAgentValue:fe()}),$a=async e=>{if(e.statusCode>=300)throw await H(e);return{IdentityId:(await he(e)).IdentityId,$metadata:xe(e)}};o();o();o();var eo={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Zn={partitions:[eo,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]};var it=e=>{let{partitions:t}=Zn;for(let{regions:r,outputs:n,regionRegex:i}of t){let s=new RegExp(i);if(r.includes(e)||s.test(e))return n.dnsSuffix}return eo.outputs.dnsSuffix};var to=({region:e})=>({url:new U(`https://${Qr}.${e}.${it(e)}`)});o();o();o();var Z=class{constructor(t){this.storage=t}async setItem(t,r){if(!this.storage)throw new de;this.storage.setItem(t,r)}async getItem(t){if(!this.storage)throw new de;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new de;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new de;this.storage.clear()}};o();o();var Oe=class{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,r){this.storage.set(t,r)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}};var ei=new S("CoreStorageUtils"),Ht=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{ei.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new Oe},Gt=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return ei.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new Oe}};var Vt=class extends Z{constructor(){super(Ht())}};o();var Wt=class extends Z{constructor(){super(Gt())}};o();o();var Bt=class{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new de;return this._storage}setItem(t,r){this.storage.setItem(t,r)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}};var $t=class extends Bt{constructor(){super(Gt())}};o();import jt from"js-cookie";var st=class{constructor(t={}){let{path:r,domain:n,expires:i,sameSite:s,secure:c}=t;if(this.domain=n,this.path=r||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?i:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?c:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!s||!["strict","lax","none"].includes(s))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(s==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=s}}async setItem(t,r){jt.set(t,r,this.getData())}async getItem(t){return jt.get(t)??null}async removeItem(t){jt.remove(t,this.getData())}async clear(){let t=jt.get(),r=Object.keys(t).map(n=>this.removeItem(n));await Promise.all(r)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}};var j=new Vt,ja=new Wt,za=new $t,Ya=new Z(new Oe);o();o();o();var ye={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8},pe="CurSize";o();o();function ro(e){let t=0;t=e.length;for(let r=e.length;r>=0;r-=1){let n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Se(){return new Date().getTime()}var Ue=e=>`${e}${pe}`;o();var Ae;(function(e){e.NoCacheItem="NoCacheItem",e.NullNextNode="NullNextNode",e.NullPreviousNode="NullPreviousNode"})(Ae||(Ae={}));var qa={[Ae.NoCacheItem]:{message:"Item not found in the cache storage."},[Ae.NullNextNode]:{message:"Next node is null."},[Ae.NullPreviousNode]:{message:"Previous node is null."}},oo=ue(qa);var _=new S("StorageCache"),zt=class{constructor({config:t,keyValueStorage:r}){this.config={...ye,...t},this.keyValueStorage=r,this.sanitizeConfig()}getModuleName(){return"Cache"}configure(t){return t&&(t.keyPrefix&&_.warn("keyPrefix can not be re-configured on an existing Cache instance."),this.config={...this.config,...t}),this.sanitizeConfig(),this.config}async getCurrentCacheSize(){let t=await this.getStorage().getItem(Ue(this.config.keyPrefix));return t||(await this.getStorage().setItem(Ue(this.config.keyPrefix),"0"),t="0"),Number(t)}async setItem(t,r,n){if(_.debug(`Set item: key is ${t}, value is ${r} with options: ${n}`),!t||t===pe){_.warn(`Invalid key: should not be empty or reserved key: '${pe}'`);return}if(typeof r>"u"){_.warn("The value of item should not be undefined!");return}let i={priority:n?.priority!==void 0?n.priority:this.config.defaultPriority,expires:n?.expires!==void 0?n.expires:this.config.defaultTTL+Se()};if(i.priority<1||i.priority>5){_.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}let s=`${this.config.keyPrefix}${t}`,c=this.fillCacheItem(s,r,i);if(c.byteSize>this.config.itemMaxSize){_.warn(`Item with key: ${t} you are trying to put into is too big!`);return}try{let u=await this.getStorage().getItem(s);if(u&&await this.removeCacheItem(s,JSON.parse(u).byteSize),await this.isCacheFull(c.byteSize)){let f=await this.clearInvalidAndGetRemainingKeys();if(await this.isCacheFull(c.byteSize)){let d=await this.sizeToPop(c.byteSize);await this.popOutItems(f,d)}}return this.setCacheItem(s,c)}catch(u){_.warn(`setItem failed! ${u}`)}}async getItem(t,r){_.debug(`Get item: key is ${t} with options ${r}`);let n;if(!t||t===pe)return _.warn(`Invalid key: should not be empty or reserved key: '${pe}'`),null;let i=`${this.config.keyPrefix}${t}`;try{if(n=await this.getStorage().getItem(i),n!=null)if(await this.isExpired(i))await this.removeCacheItem(i,JSON.parse(n).byteSize);else return(await this.updateVisitedTime(JSON.parse(n),i)).data;if(r?.callback){let s=r.callback();return s!==null&&await this.setItem(t,s,r),s}return null}catch(s){return _.warn(`getItem failed! ${s}`),null}}async removeItem(t){if(_.debug(`Remove item: key is ${t}`),!t||t===pe){_.warn(`Invalid key: should not be empty or reserved key: '${pe}'`);return}let r=`${this.config.keyPrefix}${t}`;try{let n=await this.getStorage().getItem(r);n&&await this.removeCacheItem(r,JSON.parse(n).byteSize)}catch(n){_.warn(`removeItem failed! ${n}`)}}async getAllKeys(){try{return await this.getAllCacheKeys()}catch(t){return _.warn(`getAllkeys failed! ${t}`),[]}}getStorage(){return this.keyValueStorage}async isExpired(t){let r=await this.getStorage().getItem(t);oo(r!==null,Ae.NoCacheItem,`Key: ${t}`);let n=JSON.parse(r);return Se()>=n.expires}async removeCacheItem(t,r){let n=await this.getStorage().getItem(t);oo(n!==null,Ae.NoCacheItem,`Key: ${t}`);let i=r??JSON.parse(n).byteSize;await this.decreaseCurrentSizeInBytes(i);try{await this.getStorage().removeItem(t)}catch(s){await this.increaseCurrentSizeInBytes(i),_.error(`Failed to remove item: ${s}`)}}fillCacheItem(t,r,n){let i={key:t,data:r,timestamp:Se(),visitedTime:Se(),priority:n.priority??0,expires:n.expires??0,type:typeof r,byteSize:0};return i.byteSize=ro(JSON.stringify(i)),i.byteSize=ro(JSON.stringify(i)),i}sanitizeConfig(){this.config.itemMaxSize>this.config.capacityInBytes&&(_.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=ye.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(_.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=ye.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(_.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=ye.warningThreshold);let t=5*1024*1024;this.config.capacityInBytes>t&&(_.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=ye.capacityInBytes)}async increaseCurrentSizeInBytes(t){let r=await this.getCurrentCacheSize();await this.getStorage().setItem(Ue(this.config.keyPrefix),(r+t).toString())}async decreaseCurrentSizeInBytes(t){let r=await this.getCurrentCacheSize();await this.getStorage().setItem(Ue(this.config.keyPrefix),(r-t).toString())}async updateVisitedTime(t,r){return t.visitedTime=Se(),await this.getStorage().setItem(r,JSON.stringify(t)),t}async setCacheItem(t,r){await this.increaseCurrentSizeInBytes(r.byteSize);try{await this.getStorage().setItem(t,JSON.stringify(r))}catch(n){await this.decreaseCurrentSizeInBytes(r.byteSize),_.error(`Failed to set item ${n}`)}}async sizeToPop(t){let n=await this.getCurrentCacheSize()+t-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>i?n:i}async isCacheFull(t){let r=await this.getCurrentCacheSize();return t+r>this.config.capacityInBytes}async popOutItems(t,r){let n=[],i=r;for(let s of t){let c=await this.getStorage().getItem(s);if(c!=null){let u=JSON.parse(c);n.push(u)}}n.sort((s,c)=>s.priority>c.priority?-1:s.priority<c.priority?1:s.visitedTime<c.visitedTime?-1:1);for(let s of n)if(await this.removeCacheItem(s.key,s.byteSize),i-=s.byteSize,i<=0)return}async clearInvalidAndGetRemainingKeys(){let t=[],r=await this.getAllCacheKeys({omitSizeKey:!0});for(let n of r)await this.isExpired(n)?await this.removeCacheItem(n):t.push(n);return t}async clear(){_.debug("Clear Cache");try{let t=await this.getAllKeys();for(let r of t){let n=`${this.config.keyPrefix}${r}`;await this.getStorage().removeItem(n)}}catch(t){_.warn(`clear failed! ${t}`)}}};var Xa=new S("StorageCache"),Yt=class e extends zt{constructor(t){let r=Ht();super({config:t,keyValueStorage:new Z(r)}),this.storage=r,this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this)}async getAllCacheKeys(t){let{omitSizeKey:r}=t??{},n=[];for(let i=0;i<this.storage.length;i++){let s=this.storage.key(i);r&&s===Ue(this.config.keyPrefix)||s?.startsWith(this.config.keyPrefix)&&n.push(s.substring(this.config.keyPrefix.length))}return n}createInstance(t){return(!t.keyPrefix||t.keyPrefix===ye.keyPrefix)&&(Xa.error("invalid keyPrefix, setting keyPrefix with timeStamp"),t.keyPrefix=Se.toString()),new e(t)}};var Ja=new Yt;o();o();var Qa=new S("I18n"),ti=class{constructor(){this._options=null,this._lang=null,this._dict={}}setDefaultLanguage(){!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),Qa.debug(this._lang)}setLanguage(t){this._lang=t}get(t,r=void 0){if(this.setDefaultLanguage(),!this._lang)return typeof r<"u"?r:t;let n=this._lang,i=this.getByLanguage(t,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(t,n.split("-")[0])),i)?i:typeof r<"u"?r:t}getByLanguage(t,r,n=null){if(!r)return n;let i=this._dict[r];return i?i[t]:n}putVocabulariesForLanguage(t,r){let n=this._dict[t];n||(n=this._dict[t]={}),this._dict[t]={...n,...r}}putVocabularies(t){Object.keys(t).forEach(r=>{this.putVocabulariesForLanguage(r,t[r])})}};o();var Ie;(function(e){e.NotConfigured="NotConfigured"})(Ie||(Ie={}));var Za={[Ie.NotConfigured]:{message:"i18n is not configured."}},at=ue(Za);var ri=new S("I18n"),qt={language:null},z=null,Xt=class e{static configure(t){return ri.debug("configure I18n"),t&&(qt=Object.assign({},qt,t.I18n||t),e.createInstance()),qt}static getModuleName(){return"I18n"}static createInstance(){ri.debug("create I18n instance"),!z&&(z=new ti)}static setLanguage(t){e.checkConfig(),at(!!z,Ie.NotConfigured),z.setLanguage(t)}static get(t,r){return e.checkConfig()?(at(!!z,Ie.NotConfigured),z.get(t,r)):typeof r>"u"?t:r}static putVocabulariesForLanguage(t,r){e.checkConfig(),at(!!z,Ie.NotConfigured),z.putVocabulariesForLanguage(t,r)}static putVocabularies(t){e.checkConfig(),at(!!z,Ie.NotConfigured),z.putVocabularies(t)}static checkConfig(){return z||e.createInstance(),!0}};Xt.createInstance();o();o();var Jt=e=>new Date(Date.now()+e);o();o();var ec=5*60*1e3,oi=(e,t)=>Math.abs(Jt(t).getTime()-e)>=ec;var ni=(e,t)=>oi(e,t)?e-Date.now():t;var no=({credentials:e,region:t,service:r,uriEscapePath:n=!0})=>{let i;return(s,c)=>async function(f){i=i??0;let d={credentials:typeof e=="function"?await e({forceRefresh:!!c?.isCredentialsExpired}):e,signingDate:Jt(i),signingRegion:t,signingService:r,uriEscapePath:n},p=await En(f,d),g=await s(p),l=tc(g);return l&&(i=ni(Date.parse(l),i)),g}},tc=({headers:e}={})=>e?.date??e?.Date??e?.["x-amz-date"];o();o();o();var Ne;(function(e){e.InvalidApiName="InvalidApiName"})(Ne||(Ne={}));var Qt={[Ne.InvalidApiName]:{message:"API name is invalid.",recoverySuggestion:"Check if the API name matches the one in your configuration or `aws-exports.js`"}};o();o();var Zt=async e=>{if(!e)return;let t=await H(rc(e));if(t){let r=await e.body?.text();return oc(t,{statusCode:e.statusCode,headers:e.headers,body:r})}},rc=e=>{let t,r=new Proxy(e.body,{get(i,s,c){return s==="json"?async()=>{t||(t=i.text());try{return JSON.parse(await t)}catch{return{}}}:s==="text"?async()=>(t||(t=i.text()),t):Reflect.get(i,s,c)}});return new Proxy(e,{get(i,s,c){return s==="body"?r:Reflect.get(i,s,c)}})},oc=(e,t)=>{let r=new Q({name:e?.name,message:e.message,underlyingError:e,response:t});return Object.assign(r,{$metadata:e.$metadata})};o();var Me=new S("RestApis");function ii(e,t){let r=f=>!!t,n=new AbortController,i=n.signal,s=t?.signal,c,u=async()=>{try{let f=await(r(e)?e():e(i));if(f.statusCode>=300)throw await Zt(f);return f}catch(f){let d=s??i,p=c??d.reason;if(f.name==="AbortError"||d?.aborted===!0){let g=new Ut({...p&&{message:p},underlyingError:f,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw Me.debug(f),g}throw Me.debug(f),f}};if(r())return u();{let f=d=>{i.aborted!==!0&&(n.abort(d),d&&i.reason!==d&&(c=d))};return{response:u(),cancel:f}}}o();o();var io="execute-api";var si="us-east-1",ai=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/;var er=(e,t)=>{let{service:r=io,region:n=si}=t?.amplify.getConfig()?.API?.REST?.[t?.apiName]??{},{hostname:i}=e,[,s,c]=ai.exec(i)??[];return s===io?{service:s,region:c??n}:s==="appsync-api"?{service:"appsync",region:c??n}:{service:r,region:n}};o();o();function ci(e,t){let{message:r,recoverySuggestion:n}=Qt[t];if(!e)throw new Q({name:t,message:r,recoverySuggestion:n})}var ui=(e,t,r,n)=>{let i=e.getConfig()?.API?.REST?.[t]?.endpoint;ci(!!i,Ne.InvalidApiName);try{let s=new U(i+r);if(n){let c=new Et(s.searchParams);Object.entries(n).forEach(([u,f])=>{c.set(u,f)}),s.search=new Et(c).toString()}return s}catch{throw new Q({name:Ne.InvalidApiName,...Qt[Ne.InvalidApiName],recoverySuggestion:`Please make sure the REST endpoint URL is a valid URL string. Got ${i}`})}};o();var fi=({headers:e},t)=>!e.authorization&&!!t;o();o();var di=(e,t)=>{let r={};for(let n in e)r[n.toLowerCase()]=e[n];return t&&(r["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete r["content-type"]),r};o();o();var pi=$(Re,[ve,be,no]);o();var li=$(Re,[ve,be]);var mi=async(e,t,r,n)=>{let{url:i,method:s,headers:c,body:u,withCredentials:f,abortSignal:d,retryStrategy:p}=t,g=u?u instanceof FormData?u:JSON.stringify(u??""):void 0,l=di(c,u),y={url:i,headers:l,method:s,body:g},E={retryDecider:nc(p??e?.libraryOptions?.API?.REST?.retryStrategy),computeDelay:Te,withCrossDomainCredentials:f,abortSignal:d},V=r(y,n),L,ce=await ic(e);if(V&&ce){let Ee=er(i),lt=n?.service??Ee.service,mt=n?.region??Ee.region;L=await pi(y,{...E,credentials:ce,region:mt,service:lt})}else L=await li(y,{...E});return{statusCode:L.statusCode,headers:L.headers,body:L.body}},nc=e=>e?.strategy==="no-retry"?()=>Promise.resolve({retryable:!1}):Pe(Zt),ic=async e=>{try{let{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch{Me.debug("No credentials available, the request will be unsigned.")}return null};var We=(e,t,r)=>ii(async n=>{let{apiName:i,options:s={},path:c}=t,u=ui(e,i,c,s?.queryParams),f=await e.libraryOptions?.API?.REST?.headers?.({apiName:i}),{headers:d={}}=s,p={...f,...d},g=er(u,{amplify:e,apiName:i});return Me.debug(r,u,p,`IAM signing options: ${JSON.stringify(g)}`),mi(e,{...s,url:u,method:r,headers:p,abortSignal:n},fi,g)}),gi=(e,t)=>We(e,t,"GET"),hi=(e,t)=>We(e,t,"POST"),yi=(e,t)=>We(e,t,"PUT"),Si=(e,t)=>We(e,t,"DELETE"),Ai=(e,t)=>We(e,t,"HEAD"),Ii=(e,t)=>We(e,t,"PATCH");var tr=e=>gi(h,e),rr=e=>hi(h,e),or=e=>yi(h,e),nr=e=>Si(h,e),ir=e=>Ai(h,e),sr=e=>Ii(h,e);import{dispatch as ru}from"@wordpress/data";o();o();o();o();o();o();var x;(function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword"})(x||(x={}));var uI={[x.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[x.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[x.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[x.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[x.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[x.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[x.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[x.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[x.EmptySignInPassword]:{message:"password is required to signIn"},[x.EmptySignInUsername]:{message:"username is required to signIn"},[x.EmptySignUpPassword]:{message:"password is required to signUp"},[x.EmptySignUpUsername]:{message:"username is required to signUp"},[x.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[x.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[x.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[x.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[x.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}},T;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"})(T||(T={}));var ar;(function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"})(ar||(ar={}));o();var m=class e extends C{constructor(t){super(t),this.constructor=e,Object.setPrototypeOf(this,e.prototype)}};o();function Y(e){let t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new m({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function ct(e){if(!e||!e.includes(":"))throw new m({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}o();function Ei(e){let t={};return e?.forEach(r=>{r.Name&&(t[r.Name]=r.Value)}),t}o();o();var Be="UserUnAuthenticatedException";var ac="InvalidRedirectException",cc="InvalidAppSchemeException",uc="InvalidPreferredRedirectUrlException",_i=new m({name:ac,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),EI=new m({name:cc,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),wi=new m({name:uc,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),fc="InvalidOriginException",Ci=new m({name:fc,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),xi="OAuthSignOutException",Ti="TokenRefreshException",Pi="UnexpectedSignInInterruptionException";o();o();o();function ee(e){if(!e||!e.accessToken)throw new m({name:Be,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function bi(e){if(!e||!e.idToken)throw new m({name:Be,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}var dc=new m({name:Ti,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),pc=new m({name:Be,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function cr(e){if(mc(e))throw dc;if(!lc(e))throw pc}var vi={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Ri(e){return e?.accessToken||e?.idToken}function lc(e){return Ri(e)&&e?.refreshToken}function mc(e){return Ri(e)&&!e?.refreshToken}var Oi=async e=>{let t=e.getConfig().Auth?.Cognito;A(t);let r=await e.Auth.getTokens({forceRefresh:!1});ee(r);let{"cognito:username":n,sub:i}=r.idToken?.payload??{},s={username:n,userId:i},c=gc(r);return c&&(s.signInDetails=c),s};function gc(e){return e?.signInDetails}var ut=async()=>Oi(h);o();var q=(e,t)=>fe({category:Qe.Auth,action:e,...t});o();o();var te=e=>(t,r)=>{let n=hc(e),i=JSON.stringify(t);return yc(r,n,i)},hc=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),yc=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"});o();o();function le(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new m({name:K.Unknown,message:"An unknown error has occurred.",underlyingError:e})}var re=()=>async e=>{if(e.statusCode>=300){let t=await H(e);throw le(t),new m({name:t.name,message:t.message,metadata:t.$metadata})}return he(e)};o();var Sc=()=>(e,t)=>async function(n){return n.headers["cache-control"]="no-store",e(n)},oe=$(nt,[Sc]);o();o();var ur="cognito-idp";var ne={service:ur,retryDecider:Pe(H),computeDelay:Te,userAgentValue:fe(),cache:"no-store"};var Ui=e=>N(oe,te("InitiateAuth"),re(),{...ne,...e});o();o();var Ni=({region:e})=>({url:new U(`https://${ur}.${e}.${it(e)}`)});var X=({endpointOverride:e})=>t=>e?{url:new U(e)}:Ni(t);o();o();o();o();o();function Mi({username:e,userPoolId:t,userPoolClientId:r}){if(typeof window>"u")return;let n=window.AmazonCognitoAdvancedSecurityData;if(typeof n>"u")return;let i=n.getData(e,t,r);return i?{EncodedData:i}:{}}var Ac=async({tokens:e,authConfig:t,username:r})=>{A(t?.Cognito);let{userPoolId:n,userPoolClientId:i,userPoolEndpoint:s}=t.Cognito,c=Y(n);cr(e);let u=e.refreshToken,f={REFRESH_TOKEN:u};e.deviceMetadata?.deviceKey&&(f.DEVICE_KEY=e.deviceMetadata.deviceKey);let d=Mi({username:r,userPoolId:n,userPoolClientId:i}),p=Ui({endpointResolver:X({endpointOverride:s})}),{AuthenticationResult:g}=await p({region:c},{ClientId:i,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:f,UserContextData:d}),l=R(g?.AccessToken??""),y=g?.IdToken?R(g.IdToken):void 0,{iat:E}=l.payload;if(!E)throw new m({name:"iatNotFoundException",message:"iat not found in access token"});let V=E*1e3-new Date().getTime();return{accessToken:l,idToken:y,clockDrift:V,refreshToken:u,username:r}},Di=Or(Ac);o();o();var ki={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};o();var ft;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(ft||(ft={}));var Ic={[ft.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},Fi=ue(Ic);o();var so="CognitoIdentityServiceProvider";var fr=class{getKeyValueStorage(){if(!this.keyValueStorage)throw new m({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{let t=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t.accessToken);if(!r)throw new m({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=R(r),i=await this.getKeyValueStorage().getItem(t.idToken),s=i?R(i):void 0,c=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",f=Number.parseInt(u),d=await this.getKeyValueStorage().getItem(t.signInDetails),p={accessToken:n,idToken:s,refreshToken:c,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:f,username:await this.getLastAuthUser()};return d&&(p.signInDetails=JSON.parse(d)),p}catch{return null}}async storeTokens(t){Fi(t!==void 0,ft.InvalidAuthTokens);let r=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),r);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(n.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${t.clockDrift}`)}async clearTokens(){let t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){let r=await this.getAuthKeys(t),n=await this.getKeyValueStorage().getItem(r.deviceKey),i=await this.getKeyValueStorage().getItem(r.deviceGroupKey),s=await this.getKeyValueStorage().getItem(r.randomPasswordKey);return s&&i&&n?{deviceKey:n,deviceGroupKey:i,randomPassword:s}:null}async clearDeviceMetadata(t){let r=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(r.deviceKey),this.getKeyValueStorage().removeItem(r.deviceGroupKey),this.getKeyValueStorage().removeItem(r.randomPasswordKey)])}async getAuthKeys(t){A(this.authConfig?.Cognito);let r=t??await this.getLastAuthUser();return Ec(so,`${this.authConfig.Cognito.userPoolClientId}.${r}`)}getLastAuthUserKey(){A(this.authConfig?.Cognito);let t=this.authConfig.Cognito.userPoolClientId;return`${so}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){let{oauthMetadata:r}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r,JSON.stringify(t))}async getOAuthMetadata(){let{oauthMetadata:t}=await this.getAuthKeys(),r=await this.getKeyValueStorage().getItem(t);return r&&JSON.parse(r)}},Ec=(e,t)=>dt(ki)(`${e}`,t);function dt(e){let t=Object.values({...e});return(r,n)=>t.reduce((i,s)=>({...i,[s]:`${r}.${n}.${s}`}),{})}o();o();o();var Li="amplify-signin-with-hostedUI",ie="CognitoIdentityServiceProvider",$e=class{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Li),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){A(this.cognitoConfig);let r=se(ie,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthState,t)}loadPKCE(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){A(this.cognitoConfig);let r=se(ie,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(r.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){A(this.cognitoConfig);let r=se(ie,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.inflightOAuth,`${t}`)}async loadOAuthSignIn(){A(this.cognitoConfig);let t=se(ie,this.cognitoConfig.userPoolClientId),r=await this.keyValueStorage.getItem(Li),[n,i]=(await this.keyValueStorage.getItem(t.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:n==="true"||r==="true",preferPrivateSession:i==="true"}}async storeOAuthSignIn(t,r=!1){A(this.cognitoConfig);let n=se(ie,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${t},${r}`)}},se=(e,t)=>dt(vi)(e,t);var F=new $e(j);o();var ao=[],Ki=e=>{ao.push(e)},dr=()=>{for(;ao.length;)ao.pop()?.()};var pr=class{constructor(){this.waitForInflightOAuth=ze()?async()=>{if(await F.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,r)=>{Ki(t)}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){F.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new m({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new m({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(t){let r;try{A(this.authConfig?.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,r=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(r===null)return null;let i=!!r?.idToken&&St({expiresAt:(r.idToken?.payload?.exp??0)*1e3,clockDrift:r.clockDrift??0}),s=St({expiresAt:(r.accessToken?.payload?.exp??0)*1e3,clockDrift:r.clockDrift??0});return(t?.forceRefresh||i||s)&&(r=await this.refreshTokens({tokens:r,username:n}),r===null)?null:{accessToken:r?.accessToken,idToken:r?.idToken,signInDetails:r?.signInDetails}}async refreshTokens({tokens:t,username:r}){try{let{signInDetails:n}=t,i=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:r});return i.signInDetails=n,await this.setTokens({tokens:i}),O.dispatch("auth",{event:"tokenRefresh"},"Auth",P),i}catch(n){return this.handleErrors(n)}}handleErrors(t){if(le(t),t.name!==K.NetworkError&&this.clearTokens(),O.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",P),t.name.startsWith("NotAuthorizedException"))return null;throw t}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}};var lr=class{constructor(){this.authTokenStore=new fr,this.authTokenStore.setKeyValueStorage(j),this.tokenOrchestrator=new pr,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Di)}getTokens({forceRefresh:t}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:t})}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}};var De=new lr,{tokenOrchestrator:J}=De;async function co(e){if(e.AccessToken){let t=R(e.AccessToken),r=(t.payload.iat||0)*1e3,n=new Date().getTime(),i=r>0?r-n:0,s,c,u;e.RefreshToken&&(c=e.RefreshToken),e.IdToken&&(s=R(e.IdToken)),e?.NewDeviceMetadata&&(u=e.NewDeviceMetadata);let f={accessToken:t,idToken:s,refreshToken:c,clockDrift:i,deviceMetadata:u,username:e.username};e?.signInDetails&&(f.signInDetails=e.signInDetails),await J.setTokens({tokens:f})}else throw new C({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}o();var _c="Unable to get user session following successful sign-in.",Hi=async()=>{try{O.dispatch("auth",{event:"signedIn",data:await ut()},"Auth",P)}catch(e){throw e.name===Be?new m({name:Pi,message:_c,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):e}};function uo(e){if(e==="SMS_MFA")return"SMS";if(e==="SOFTWARE_TOKEN_MFA")return"TOTP";if(e==="EMAIL_OTP")return"EMAIL"}function Gi(e){if(e)return e.map(uo).filter(Boolean)}o();o();var Vi=e=>N(oe,te("SetUserMFAPreference"),re(),{...ne,...e});async function po(e){let{sms:t,totp:r,email:n}=e,i=h.getConfig().Auth?.Cognito;A(i);let{userPoolEndpoint:s,userPoolId:c}=i,{tokens:u}=await B({forceRefresh:!1});ee(u),await Vi({endpointResolver:X({endpointOverride:s})})({region:Y(c),userAgentValue:q(k.UpdateMFAPreference)},{AccessToken:u.accessToken.toString(),SMSMfaSettings:fo(t),SoftwareTokenMfaSettings:fo(r),EmailMfaSettings:fo(n)})}function fo(e){if(e==="DISABLED")return{Enabled:!1};if(e==="PREFERRED")return{Enabled:!0,PreferredMfa:!0};if(e==="ENABLED")return{Enabled:!0};if(e==="NOT_PREFERRED")return{Enabled:!0,PreferredMfa:!1}}o();o();var mr=e=>N(oe,te("GetUser"),re(),{...ne,...e});async function lo(){let e=h.getConfig().Auth?.Cognito;A(e);let{userPoolEndpoint:t,userPoolId:r}=e,{tokens:n}=await B({forceRefresh:!1});ee(n);let i=mr({endpointResolver:X({endpointOverride:t})}),{PreferredMfaSetting:s,UserMFASettingList:c}=await i({region:Y(r),userAgentValue:q(k.FetchMFAPreference)},{AccessToken:n.accessToken.toString()});return{preferred:uo(s),enabled:Gi(c)}}o();o();o();o();o();o();var Sw=new S("AuthError");var Wi={oauthSignInError:{message:T.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:T.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:T.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:T.EMPTY_USERNAME},invalidUsername:{message:T.INVALID_USERNAME},emptyPassword:{message:T.EMPTY_PASSWORD},emptyCode:{message:T.EMPTY_CODE},signUpError:{message:T.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:T.NO_MFA},invalidMFA:{message:T.INVALID_MFA},emptyChallengeResponse:{message:T.EMPTY_CHALLENGE},noUserSession:{message:T.NO_USER_SESSION},deviceConfig:{message:T.DEVICE_CONFIG},networkError:{message:T.NETWORK_ERROR},autoSignInError:{message:T.AUTOSIGNIN_ERROR},default:{message:T.DEFAULT_MSG}};var je=(e,t)=>new m({message:e??"An error has occurred during the oauth process.",name:ar.OAuthSignInError,recoverySuggestion:t??Wi.oauthSignInError.log});o();o();var gr;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError",e.OAuthSignInError="oauthSignInError"})(gr||(gr={}));var wc="`signInWithRedirect` has been canceled.",Cc="An error occurred while validating the state.",xc="Try to initiate an OAuth flow from Amplify",mo=async e=>{let t=await F.loadOAuthState(),r=e===t?t:void 0;if(!r)throw new m({name:gr.OAuthSignInError,message:e===null?wc:Cc,recoverySuggestion:e===null?void 0:xc});return r};var Bi=async({currentUrl:e,userAgentValue:t,clientId:r,redirectUri:n,responseType:i,domain:s,preferPrivateSession:c})=>{let u=new U(e),f=u.searchParams.get("error"),d=u.searchParams.get("error_description");if(f)throw je(d??f);return i==="code"?Tc({currentUrl:e,userAgentValue:t,clientId:r,redirectUri:n,domain:s,preferPrivateSession:c}):Pc({currentUrl:e,redirectUri:n,preferPrivateSession:c})},Tc=async({currentUrl:e,userAgentValue:t,clientId:r,redirectUri:n,domain:i,preferPrivateSession:s})=>{let c=new U(e),u=c.searchParams.get("code"),f=c.searchParams.get("state");if(!u||!f)throw je("User cancelled OAuth flow.");let d=await mo(f),p="https://"+i+"/oauth2/token",g=await F.loadPKCE(),l={grant_type:"authorization_code",code:u,client_id:r,redirect_uri:n,...g?{code_verifier:g}:{}},y=Object.entries(l).map(([xr,ht])=>`${encodeURIComponent(xr)}=${encodeURIComponent(ht)}`).join("&"),{access_token:E,refresh_token:V,id_token:L,error:ce,error_message:Ee,token_type:lt,expires_in:mt}=await(await fetch(p,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[vr]:t},body:y})).json();if(ce)throw je(Ee??ce);let gt=(E&&R(E).payload.username)??"username";return await co({username:gt,AccessToken:E,IdToken:L,RefreshToken:V}),$i({redirectUri:n,state:d,preferPrivateSession:s})},Pc=async({currentUrl:e,redirectUri:t,preferPrivateSession:r})=>{let n=new U(e),{id_token:i,access_token:s,state:c,token_type:u,expires_in:f,error_description:d,error:p}=(n.hash??"#").substring(1).split("&").map(y=>y.split("=")).reduce((y,[E,V])=>({...y,[E]:V}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(p)throw je(d??p);if(!s)throw je("No access token returned from OAuth flow.");let g=await mo(c),l=(s&&R(s).payload.username)??"username";return await co({username:l,AccessToken:s,IdToken:i}),$i({redirectUri:t,state:g,preferPrivateSession:r})},$i=async({redirectUri:e,state:t,preferPrivateSession:r})=>{await J.setOAuthMetadata({oauthSignIn:!0}),await F.clearOAuthData(),await F.storeOAuthSignIn(!0,r),dr(),Rc(e),bc(t)&&O.dispatch("auth",{event:"customOAuthState",data:Rr(vc(t))},"Auth",P),O.dispatch("auth",{event:"signInWithRedirect"},"Auth",P),await Hi()},bc=e=>/-/.test(e),vc=e=>e.split("-").splice(1).join("-"),Rc=e=>{typeof window<"u"&&typeof window.history<"u"&&window.history.replaceState(window.history.state,"",e)};o();function hr(e,t){if(t){let r=e?.find(n=>n===t);if(!r)throw wi;return r}else{let r=e?.find(Oc)??e?.find(Uc),n=e?.find(Mc)??e?.find(Nc);if(r)return r;throw n?Ci:_i}}var Oc=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),Uc=e=>e.includes(String(window.location.hostname)),Nc=e=>e.startsWith("http://"),Mc=e=>e.startsWith("https://");o();var ji=async e=>{dr(),await F.clearOAuthInflightData(),O.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:e}},"Auth",P)};var zi=async e=>{try{A(e),we(e),F.setAuthConfig(e)}catch{return}if(await F.loadOAuthInFlight())try{let t=window.location.href,{loginWith:r,userPoolClientId:n}=e,{domain:i,redirectSignIn:s,responseType:c}=r.oauth,u=hr(s);await Bi({currentUrl:t,clientId:n,domain:i,redirectUri:u,responseType:c,userAgentValue:q(k.SignInWithRedirect)})}catch(t){await ji(t)}};ze()&&h[Ye](zi);o();var Yi=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))};o();o();var qi=async e=>{let t=e.getConfig().Auth?.Cognito;A(t);let{userPoolEndpoint:r,userPoolId:n}=t,{tokens:i}=await tt(e,{forceRefresh:!1});ee(i);let s=mr({endpointResolver:X({endpointOverride:r})}),{UserAttributes:c}=await s({region:Y(n),userAgentValue:q(k.FetchUserAttributes)},{AccessToken:i.accessToken.toString()});return Ei(c)};var go=()=>qi(h);o();o();o();var Xi=async e=>{await e.clearOAuthData(),J.clearTokens(),await ot(),O.dispatch("auth",{event:"signedOut"},"Auth",P)};o();var Ji=async(e,t=!1,r)=>{we(e);let{loginWith:n,userPoolClientId:i}=e,{domain:s,redirectSignOut:c}=n.oauth,u=hr(c,r),f=`https://${s}/logout?${Object.entries({client_id:i,logout_uri:encodeURIComponent(u)}).map(([d,p])=>`${d}=${p}`).join("&")}`;return Yi(f)};var Qi=async(e,t,r,n)=>{let{isOAuthSignIn:i}=await t.loadOAuthSignIn(),s=await r.getOAuthMetadata();if(await Xi(t),i||s?.oauthSignIn)return Ji(e,!1,n)};o();var Zi=e=>N(oe,te("RevokeToken"),re(),{...ne,...e});o();var es=e=>N(oe,te("GlobalSignOut"),re(),{...ne,...e});var ts=new S("Auth");async function yr(e){let t=h.getConfig().Auth?.Cognito;A(t),e?.global?await kc(t):await Dc(t);let r;try{we(t),r=!0}catch{r=!1}if(r){let n=new $e(j);n.setAuthConfig(t);let{type:i}=await Qi(t,n,J,e?.oauth?.redirectUrl)??{};if(i==="error")throw new m({name:xi,message:"An error occurred when attempting to log out from OAuth provider."})}else J.clearTokens(),await ot(),O.dispatch("auth",{event:"signedOut"},"Auth",P)}async function Dc(e){try{let{userPoolEndpoint:t,userPoolId:r,userPoolClientId:n}=e,i=await J.getTokenStore().loadTokens();cr(i),Fc(i.accessToken)&&await Zi({endpointResolver:X({endpointOverride:t})})({region:Y(r),userAgentValue:q(k.SignOut)},{ClientId:n,Token:i.refreshToken})}catch{ts.debug("Client signOut error caught but will proceed with token removal")}}async function kc(e){try{let{userPoolEndpoint:t,userPoolId:r}=e,n=await J.getTokenStore().loadTokens();ee(n),await es({endpointResolver:X({endpointOverride:t})})({region:Y(r),userAgentValue:q(k.SignOut)},{AccessToken:n.accessToken.toString()})}catch{ts.debug("Global signOut error caught but will proceed with token removal")}}var Fc=e=>!!e?.payload?.origin_jti;o();o();o();var rs={identityId:"identityId"};var Lc=new S("DefaultIdentityIdStore"),ke=class{setAuthConfig(t){Ce(t.Cognito),this.authConfig=t,this._authKeys=Kc("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){Ce(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let t=await this.keyValueStorage.getItem(this._authKeys.identityId);return t?(this._hasGuestIdentityId=!0,{id:t,type:"guest"}):null}}catch(t){return Lc.log("Error getting stored IdentityId.",t),null}}async storeIdentityId(t){Ce(this.authConfig?.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}},Kc=(e,t)=>dt(rs)(`com.amplify.${e}`,t);o();o();var pt=({endpointOverride:e})=>t=>e?{url:new U(e)}:to(t);o();o();function Sr(e){let t=R(e).payload.iss,r={};if(!t)throw new m({name:"InvalidIdTokenException",message:"Invalid Idtoken."});let n=t.replace(/(^\w+:|^)\/\//,"");return r[n]=e,r}async function os({tokens:e,authConfig:t,identityIdStore:r}){r.setAuthConfig({Cognito:t});let n=await r.loadIdentityId();if(n)return n.id;let i=e?.idToken?Sr(e.idToken.toString()):{},s=await Hc(i,t);return r.storeIdentityId({id:s,type:e?"primary":"guest"}),s}async function Hc(e,t){let r=t?.identityPoolId,n=ct(r),i=Zr({endpointResolver:pt({endpointOverride:t.identityPoolEndpoint})}),s;try{s=(await i({region:n},{IdentityPoolId:r,Logins:e})).IdentityId}catch(c){throw le(c),new m(c)}if(!s)throw new m({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return s}var Ar=new S("CognitoCredentialsProvider"),ns=50*60*1e3,Fe=class{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){Ar.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Ar.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){let r=t.authenticated,{tokens:n}=t,{authConfig:i}=t;try{Ce(i?.Cognito)}catch{return}if(!r&&!i.Cognito.allowGuestAccess)return;let{forceRefresh:s}=t,c=this.hasTokenChanged(n),u=await os({tokens:n,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return(s||c)&&this.clearCredentials(),r?(bi(n),this.credsForOIDCTokens(i.Cognito,n,u)):this.getGuestCredentials(u,i.Cognito)}async getGuestCredentials(t,r){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Ar.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=ct(r.identityPoolId),i=Kt({endpointResolver:pt({endpointOverride:r.identityPoolEndpoint})}),s;try{s=await i({region:n},{IdentityId:t})}catch(c){throw le(c),new m(c)}if(s?.Credentials?.AccessKeyId&&s?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+ns;let c={credentials:{accessKeyId:s.Credentials.AccessKeyId,secretAccessKey:s.Credentials.SecretKey,sessionToken:s.Credentials.SessionToken,expiration:s.Credentials.Expiration},identityId:t};return s.IdentityId&&(c.identityId=s.IdentityId,this._identityIdStore.storeIdentityId({id:s.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...c,isAuthenticatedCreds:!1},c}else throw new m({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,r,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Ar.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let i=r.idToken?Sr(r.idToken.toString()):{},s=ct(t.identityPoolId),c=Kt({endpointResolver:pt({endpointOverride:t.identityPoolEndpoint})}),u;try{u=await c({region:s},{IdentityId:n,Logins:i})}catch(f){throw le(f),new m(f)}if(u?.Credentials?.AccessKeyId&&u?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+ns;let f={credentials:{accessKeyId:u.Credentials.AccessKeyId,secretAccessKey:u.Credentials.SecretKey,sessionToken:u.Credentials.SessionToken,expiration:u.Credentials.Expiration},identityId:n};return u.IdentityId&&(f.identityId=u.IdentityId,this._identityIdStore.storeIdentityId({id:u.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...f,isAuthenticatedCreds:!0,associatedIdToken:r.idToken?.toString()},f}else throw new m({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){return!!t&&!!this._credentialsAndIdentityId?.associatedIdToken&&t.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}};var ho=new Fe(new ke(j));var Ir={configure(e,t){let r=qe(e),n=new st({sameSite:"lax"}),i=t?.ssr?n:j,s=t?.ssr?new Fe(new ke(n)):ho;if(!r.Auth){h.configure(r,t);return}if(t?.Auth){h.configure(r,t);return}if(!h.libraryOptions.Auth){De.setAuthConfig(r.Auth),De.setKeyValueStorage(i),h.configure(r,{...t,Auth:{tokenProvider:De,credentialsProvider:s}});return}if(t){let c=h.libraryOptions.Auth;t.ssr!==void 0&&(De.setKeyValueStorage(i),c.credentialsProvider=s),h.configure(r,{Auth:c,...t});return}h.configure(r)},getConfig(){return h.getConfig()}};o();o();import{createReduxStore as jc,register as zc,select as Yc,dispatch as ws,subscribe as qc}from"@wordpress/data";Er();o();var _r="gatey_account",Wc="gatey";var Ao=Math.min(Math.round(Math.random()*256),255),wr=e=>{e?.username?window.localStorage.setItem(_r,JSON.stringify(e)):window.localStorage.removeItem(_r)},Le=async e=>{let t=JSON.parse(window.localStorage.getItem(_r)??"{}"),r=!1;if(t?.username)try{let n=await B();n?.tokens?.accessToken?.payload?.exp&&n.tokens.accessToken.payload.exp>new Date().getTime()/1e3&&(r=!0)}catch{}else try{t=await xs(!1),t?.username&&(wr(t),t.loaded=!0,r=!0)}catch(n){console.error(n)}return!r&&t?.username&&(wr({}),Gatey.cognito.store.then(async n=>{await Eo(e?.signOutHook),await ws(n).clearAccount(),window.location.assign("")})),t};Ao=13;var Xc=async e=>{let t=window.location.hostname.toLowerCase()===e?.secondaryDomain?.toLowerCase().trim()&&Gatey.settings?.userPoolConfigurations.secondary?.Auth?.Cognito?.userPoolId?Gatey.settings?.userPoolConfigurations.secondary:Gatey.settings?.userPoolConfigurations.default,r={Auth:{Cognito:{userPoolClientId:"",userPoolId:"",identityPoolId:"",...t.Auth?.Cognito,loginWith:{oauth:{domain:"",scopes:[],responseType:"code",...t.Auth?.Cognito?.loginWith?.oauth,redirectSignIn:[window.location.origin+Gatey?.settings?.signInPage],redirectSignOut:[window.location.origin+Gatey?.settings?.signInPage]}}}},API:{...t.API,REST:{...t.API?.REST,admin:{endpoint:Gatey.restUrl}}}},n=window.location.hostname.toLowerCase()===e?.secondaryDomain?.toLowerCase().trim()&&e.apiConfigurations?.secondary?.apis?.length?e.apiConfigurations.secondary:e?.apiConfigurations?.default;n?.apis?.forEach(s=>{let c=r.API?.REST;c&&(c[s.name]={endpoint:s.endpoint,region:s.region})}),Io(r,{API:{REST:{headers:async s=>{let c=n?.apis?.find(u=>u.name===s.apiName);if(s.apiName==="admin"||c?.authorization==="ID_TOKEN"||c?.authorization==="ACCESS_TOKEN")try{let u=await Ke();if(u?.tokens?.idToken&&u?.tokens?.accessToken)return{Authorization:`Bearer ${s.apiName==="admin"||c?.authorization==="ID_TOKEN"?u.tokens.idToken.toString():u.tokens.accessToken.toString()}`}}catch(u){console.error(u),Gatey.cognito.store.then(f=>{ws(f).clearAccount()})}return{}}}}})},Jc=async()=>{let t=await(await Promise.resolve().then(()=>(_s(),Es))).getConfigFromStorage(),r=t?await yo(t,Ao):void 0;Xc(r);let i=window.location.hostname.toLowerCase().split(":")[0]===r?.secondaryDomain?.toLowerCase().trim()&&r.apiConfigurations?.secondary?.apis?.length?r.apiConfigurations.secondary:r?.apiConfigurations?.default,s=await Le(i);return{salt:Ao,config:t,amplifyConfig:{},account:s,signedIn:!!s?.username&&!s.loaded,nextUrl:void 0,reloadAuthSession:0,reloadUserAttributes:0,reloadMFAPreferences:0}},Qc={setAmplifyConfig(e){return{type:"SET_AMPLIFY_CONFIG",amplifyConfig:e}},setAccount(e){return{type:"SET_ACCOUNT",account:e}},clearAccount(){return{type:"CLEAR_ACCOUNT"}},setSignedIn(e){return{type:"SET_SIGNED_IN",signedIn:e}},setNextUrl(e){return{type:"SET_NEXT_URL",nextUrl:e}},reloadAuthSession(){return{type:"RELOAD_AUTH_SESSION"}},reloadUserAttributes(){return{type:"RELOAD_USER_ATTRIBUTES"}},reloadMFAPreferences(){return{type:"RELOAD_MFA_PREFERENCE"}}},Zc={getAmplifyConfig(e){return e.amplifyConfig},getAccount(e){return e.account},getNextUrl(e){return e.nextUrl},isSignedIn(e){return e.signedIn},getConfig(e){return e.config},getSalt(e){return e.salt},getState(e){return e}},eu={},Cs=async()=>{let e=await Jc(),t=jc("wpsuite/gatey",{reducer(r=e,n){switch(n.type){case"SET_AMPLIFY_CONFIG":return{...r,amplifyConfig:n.amplifyConfig};case"SET_ACCOUNT":return wr(n.account),{...r,account:n.account};case"CLEAR_ACCOUNT":return wr({}),{...r,account:{}};case"RELOAD_AUTH_SESSION":{let i=Math.random();return{...r,reloadAuthSession:r.reloadAuthSession!==i?i:i+1}}case"RELOAD_USER_ATTRIBUTES":{let i=Math.random();return{...r,reloadUserAttributes:r.reloadUserAttributes!==i?i:i+1}}case"RELOAD_MFA_PREFERENCE":{let i=Math.random();return{...r,reloadMFAPreferences:r.reloadMFAPreferences!==i?i:i+1}}case"SET_SIGNED_IN":return{...r,signedIn:n.signedIn};case"SET_NEXT_URL":return{...r,nextUrl:n.nextUrl}}return r},actions:Qc,selectors:Zc,resolvers:eu});return zc(t),t},Cr=(e,t,r)=>{let n;function i(){let c=Yc(e).getState(),u=t(c);if(u!==n){let f=n;n=u,r(n,f)}}let s=qc(i,e);return i(),s};var _o=()=>Ir.getConfig(),Io=(e,t)=>{Ir.configure(e,t)},Ke=e=>B(e),Ts=()=>go(),Ps=()=>lo(),xs=async(e=!0)=>{let t=e?await Le():{};if(t?.username)return t;try{if((await B()).tokens)return{username:(await ut()).username,userAttributes:await Ts(),mfaPreferences:await Ps()}}catch{try{await yr()}catch{}}return{}},bs=async()=>{await po({totp:"DISABLED"})},vs=()=>Le().then(e=>e?.username),Rs=()=>Le().then(e=>e?.userAttributes),Os=()=>Le().then(e=>e?.mfaPreferences),Us=()=>Le().then(e=>!!e?.username),Ns=e=>wo().then(t=>t?.includes(e)||!1),wo=()=>Ke().then(e=>e.tokens?.idToken?.payload["cognito:groups"]instanceof Array?e.tokens.idToken.payload["cognito:groups"].map(t=>t):[]).catch(e=>{console.error(e)}),Ms=async()=>Ke().then(e=>e.tokens?.idToken?.payload["cognito:roles"]instanceof Array?e.tokens.idToken.payload["cognito:roles"].map(t=>t).map(t=>t.substring(t.indexOf("/")+1)):[]).catch(e=>{console.error(e)}),Ds=async()=>Ke().then(e=>{if(!e.tokens?.idToken?.payload["cognito:preferred_role"])return;let t=e.tokens.idToken.payload["cognito:preferred_role"];return t.substring(t.indexOf("/")+1)}).catch(e=>{console.error(e)}),ks=()=>Ke().then(e=>e.tokens?.accessToken.payload.scope?.split(" ")??[]).catch(e=>{console.error(e)}),tu=async e=>{let t;return Gatey.settings.integrateWpLogin&&Gatey.restUrl?.startsWith("http")&&(t=await Gatey.cognito.post({apiName:"admin",path:"/login"}).response.then(n=>n.body.json()).then(n=>{if(n instanceof Object&&"redirect"in n)return n?.redirect}).catch(n=>{console.error(n)})),e&&await Gatey.cognito.get({apiName:e.apiName,path:e.path,options:e.options}).response.catch(r=>console.error(r)),Gatey.settings.redirectSignIn??t},Eo=async e=>{let t;Gatey.settings.integrateWpLogin&&(t=await Gatey.cognito.get({apiName:"admin",path:"/logout"}).response.then(r=>r.body.json()).then(r=>{if(r instanceof Object&&"redirect"in r)return r?.redirect}).catch(r=>{console.error(r)})),e&&await Gatey.cognito.get({apiName:e.apiName,path:e.path,options:e.options}).response.catch(r=>console.error(r));try{await yr()}catch{}return Gatey.settings.redirectSignOut??t};Er();var ou=()=>{Gatey.cognito.store.then(e=>{Cr(e,t=>t.nextUrl,async t=>{t&&window.location.assign(t)}),ru(e).clearAccount()})};var Fs=!!Gatey.cognito?.store,nu=Gatey.cognito?.store??Cs();Fs||(Gatey.cognito={store:nu,observeStore:Cr,getAmplifyConfig:_o,isAuthenticated:Us,isInGroup:Ns,getUsername:vs,getUserAttributes:Rs,getMfaPreferences:Os,clearMfaPreferences:bs,getGroups:wo,getRoles:Ms,getPreferredRole:Ds,getScopes:ks,signOut:ou,get:tr,post:rr,put:or,del:nr,head:ir,patch:sr});Fs=!0;export{Wc as TEXT_DOMAIN,bs as clearMfaPreferences,Io as configureAmplify,yo as decryptData,ae as deobfuscate,_o as getAmplifyConfig,wo as getGroups,Os as getMfaPreferences,Ds as getPreferredRole,Ms as getRoles,ks as getScopes,Rs as getUserAttributes,Us as isAuthenticated,Ns as isInGroup,Ke as loadAuthSession,Ps as loadMFAPreferences,Ts as loadUserAttributes,tu as login,Eo as logout,Cr as observeStore,nu as store};
