"use strict";(globalThis.webpackChunk_smart_cloud_gatey_blocks=globalThis.webpackChunk_smart_cloud_gatey_blocks||[]).push([[858],{33858:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(716),o=a(10900),d=a(30417),i=a(66067),r=a(51609),s=a(87160),n=a(53958),c=a(79699),u=a(10790);const p=({isPreview:e,account:t,direction:a,attribute:o,custom:d,defaultChecked:i,defaultValue:p,required:b,hidden:m,label:v,labelHidden:f,type:h,placeholder:y,autocomplete:g,dialCode:C,dialCodeList:H,countryCodeList:k,values:F,className:w})=>{const[x,T]=(0,r.useState)(),[_,L]=(0,r.useState)();return(0,r.useEffect)((()=>{let e={name:"",label:"",placeholder:void 0,type:"text",hidden:void 0,labelHidden:void 0,isRequired:void 0,autocomplete:void 0,dialCode:void 0,dialCodeList:void 0,countryCodeList:void 0,totpIssuer:void 0,value:void 0,values:void 0,textDirection:a};if(o)if(s._0.includes(o)){if(T(o),o in n.Ui){const t=n.Ui[o];e={...t,name:o,label:(0,l.Tl)(t.label),values:void 0}}}else if("custom"===o){const t="custom:"+(d||"");e.name=t,T(t)}else{const t=d||"";e.name=t,T(t)}else{const t=d||"";e.name=t,T(t)}e.name&&(h&&"default"!==h&&(e.type=h),"checkbox"===e.type&&i&&(e.value="on"),"radio"!==e.type&&"select"!==e.type&&"country"!==e.type||(e.value=p),e.hidden=m,e.isRequired=b,v&&(e.label=(0,l.Tl)(v)),e.labelHidden=f,y&&(e.placeholder=(0,l.Tl)(y)),g&&(e.autocomplete=g),e.dialCode=C||void 0,H&&(e.dialCodeList=H),k&&(e.countryCodeList=k),F&&(e.values=F.map((e=>({value:e.value,label:(0,l.Tl)(e.label)})))),L(e))}),[o,g,k,d,i,p,C,H,a,m,v,f,y,b,h,F]),_&&(0,u.jsx)(c.z,{..._,className:w,value:!e&&t?.userAttributes&&o&&"transient"!==o?(t?.userAttributes)[x]||"":_.value})},b=["Header","Footer"],m=["Header","Footer","FormFields"],v={Header:null,Footer:null,ConfirmSignIn:b,ConfirmSignUp:b,ConfirmResetPassword:b,ConfirmVerifyUser:b,EditAccount:m,ForceNewPassword:b,ForgotPassword:b,SetupTotp:b,SignIn:b,SignUp:m,VerifyUser:b,ChangePassword:b};function f(e){if("text"===e.type){var t;const a=e,o=(0,i.decode)(null!==(t=a.data)&&void 0!==t?t:"");o&&(a.data=(0,l.Tl)(o))}else"children"in e&&Array.isArray(e.children)&&e.children.forEach(f)}function h(e,t,a,r,s){const n={},c="string"==typeof a?(0,i.decode)(a):null,b=d.Hh(null!=c?c:""),m=r?d.Hh(r):null;m&&m("[custom-part] > summary").remove();for(const a in v)if("Header"===a||"Footer"===a){let e=b(`[custom-part="${a}"]`);if(0===e.length&&m&&(e=m(`[custom-part="${a}"]`).remove("summary")),e.length>0){e.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{f(e)})),"text"===t.type){var a;const e=(0,i.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,l.Tl)(e))}}));const t=()=>(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(e.html())});"Header"===a?n.Header=t:n.Footer=t}}else for(const d of v[a]){let r=b(`[custom-part="${a}-${d}"]`);0===r.length&&m&&(r=m(`[custom-part="${a}-${d}"]`)),r.length>0&&(n[a]||(n[a]={}),n[a][d]=()=>(r.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{f(e)})),"text"===t.type){var a;const e=(0,i.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,l.Tl)(e))}})),(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(r.html(),{replace:a=>{if(a instanceof o.Hg&&"div"===a.name&&(void 0!==a.attribs["gatey-form-field"]||a.attribs.class?.includes("wp-block-gatey-form-field"))){let l;try{l=a.attribs["data-values"]?JSON.parse(atob(a.attribs["data-values"])):void 0}catch(e){console.error("Error parsing values:",e)}return(0,u.jsx)(p,{isPreview:e,account:t,attribute:a.attribs["data-attribute"]||"transient",custom:a.attribs["data-custom"],defaultChecked:"1"===a.attribs["data-default-checked"],defaultValue:a.attribs["data-default-value"]||"",required:"1"===a.attribs["data-required"],hidden:"1"===a.attribs["data-hidden"],label:a.attribs["data-label"],labelHidden:"1"===a.attribs["data-label-hidden"],placeholder:a.attribs["data-placeholder"],autocomplete:a.attribs["data-autocomplete"]||"off",dialCode:a.attribs["data-dial-code"]||"",dialCodeList:a.attribs["data-dial-code-list"]?a.attribs["data-dial-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,countryCodeList:a.attribs["data-country-code-list"]?a.attribs["data-country-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,type:a.attribs["data-type"]||"default",values:l||[],direction:s,className:a.attribs.class||""})}}})})))}return n}}}]);