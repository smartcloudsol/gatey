"use strict";(globalThis.webpackChunk_smart_cloud_gatey_blocks=globalThis.webpackChunk_smart_cloud_gatey_blocks||[]).push([[858],{33858:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var o=a(10900),i=a(30417),l=a(66067),d=a(716),r=a(51609),s=a(87160),n=a(53958),c=a(79699),u=a(10790);const m=({config:e,isPreview:t,account:a,direction:o,attribute:i,custom:l,defaultChecked:m,defaultValue:f,required:p,hidden:b,label:h,labelHidden:v,placeholder:g,autocomplete:y,dialCode:C,dialCodeList:F,countryCodeList:k,className:H})=>{const[w,S]=(0,r.useState)(),[x,T]=(0,r.useState)();return(0,r.useEffect)((()=>{let t,a={name:"",label:"",placeholder:void 0,type:"text",hidden:void 0,labelHidden:void 0,isRequired:void 0,autocomplete:void 0,dialCode:void 0,dialCodeList:void 0,countryCodeList:void 0,totpIssuer:void 0,value:void 0,values:void 0,textDirection:o};if(i)if(s._0.includes(i)){if(S(i),i in n.Ui){const e=n.Ui[i];a={...e,name:i,label:(0,d.Tl)(e.label),values:void 0}}}else if("custom"===i){const o="custom:"+(l||"");t=e.formFields&&e.formFields.find((e=>e.name===o)),a.name=o,S(o)}else{const e=l||"";a.name=e,S(e)}else{const e=l||"";a.name=e,S(e)}a.name&&(t&&("default"!==t.type&&(a.type=t.type),"checkbox"===a.type&&m&&(a.value="on"),"radio"!==a.type&&"select"!==a.type&&"country"!==a.type||(a.value=f),t.values&&(a.values=t.values.map((e=>({value:e.value,label:(0,d.Tl)(e.label)}))))),a.hidden=b,a.isRequired=p,h&&(a.label=(0,d.Tl)(h)),a.labelHidden=v,g&&(a.placeholder=(0,d.Tl)(g)),y&&(a.autocomplete=y),a.dialCode=C||void 0,F&&(a.dialCodeList=F),k&&(a.countryCodeList=k),T(a))}),[e,i,y,k,l,m,f,C,F,o,b,h,v,g,p]),x&&(0,u.jsx)(c.z,{...x,className:H,value:!t&&a?.userAttributes&&i?(a?.userAttributes)[w]||"":x.value})},f=["Header","Footer"],p=["Header","Footer","FormFields"],b={Header:null,Footer:null,ConfirmSignIn:f,ConfirmSignUp:f,ConfirmResetPassword:f,ConfirmVerifyUser:f,EditAccount:p,ForceNewPassword:f,ForgotPassword:f,SetupTotp:f,SignIn:f,SignUp:p,VerifyUser:f,ChangePassword:f};function h(e){if("text"===e.type){var t;const a=e,o=(0,l.decode)(null!==(t=a.data)&&void 0!==t?t:"");o&&(a.data=(0,d.Tl)(o))}else"children"in e&&Array.isArray(e.children)&&e.children.forEach(h)}const v={toSignIn:()=>Gatey.cognito.toSignIn?.(),toForgotPassword:()=>Gatey.cognito.toForgotPassword?.(),toSignUp:()=>Gatey.cognito.toSignUp?.()};function g(e,t,a,r,s,n){const c={},f="string"==typeof r?(0,l.decode)(r):null,p=i.Hh(null!=f?f:""),g=s?i.Hh(s):null;g&&g("[custom-part] > summary").remove();for(const i in b)if("Header"===i||"Footer"===i){let e=p(`[custom-part="${i}"]`);if(0===e.length&&g&&(e=g(`[custom-part="${i}"]`).remove("summary")),e.length>0){e.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{h(e)})),"text"===t.type){var a;const e=(0,l.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,d.Tl)(e))}}));const t=()=>(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(s?e.html():e.contents().contents().toString())});"Header"===i?c.Header=t:c.Footer=t}}else for(const r of b[i]){let f=p(`[custom-part="${i}-${r}"]`);0===f.length&&g&&(f=g(`[custom-part="${i}-${r}"]`)),f.length>0&&(c[i]||(c[i]={}),c[i][r]=()=>(f.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{h(e)})),"text"===t.type){var a;const e=(0,l.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,d.Tl)(e))}})),(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(s?f.html():f.contents().contents().toString(),{replace:i=>{if(i instanceof o.Hg&&i.attribs?.onclick){const{onclick:e,...t}=i.attribs,a=e.trim(),l=/^([a-zA-Z_$][\w$]*)\(\s*\)$/.exec(a);if(!l)return;const d=v[l[1]];if(!d)return;return(0,u.jsx)("a",{...(0,o.$5)(t),onClick:d,children:(0,o.zd)(i.children)})}if(i instanceof o.Hg&&"div"===i.name&&(void 0!==i.attribs["gatey-form-field"]||i.attribs.class?.includes("wp-block-gatey-form-field")))return(0,u.jsx)(m,{config:e,isPreview:t,account:a,attribute:i.attribs["data-attribute"]||"",custom:i.attribs["data-custom"],defaultChecked:"1"===i.attribs["data-default-checked"],defaultValue:i.attribs["data-default-value"]||"",required:"1"===i.attribs["data-required"],hidden:"1"===i.attribs["data-hidden"],label:i.attribs["data-label"],labelHidden:"1"===i.attribs["data-label-hidden"],placeholder:i.attribs["data-placeholder"],autocomplete:i.attribs["data-autocomplete"]||"off",dialCode:i.attribs["data-dial-code"]||"",dialCodeList:i.attribs["data-dial-code-list"]?i.attribs["data-dial-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,countryCodeList:i.attribs["data-country-code-list"]?i.attribs["data-country-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,direction:n,className:i.attribs.class||""})}})})))}return c}}}]);