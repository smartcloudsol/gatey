"use strict";(globalThis.webpackChunk_smart_cloud_gatey_blocks=globalThis.webpackChunk_smart_cloud_gatey_blocks||[]).push([[858],{3858:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var o=a(417),i=a(6067),l=a(900),d=a(3752),r=a(9069),s=a(1609),n=a(790);const c=({config:e,isPreview:t,account:a,direction:o,attribute:i,custom:l,defaultChecked:r,defaultValue:c,required:u,hidden:m,label:f,labelHidden:p,placeholder:b,autocomplete:h,dialCode:v,dialCodeList:g,countryCodeList:y,className:C})=>{const F=(0,s.useMemo)(()=>{let t,a={name:"",label:"",placeholder:void 0,type:"text",hidden:void 0,labelHidden:void 0,isRequired:void 0,autocomplete:void 0,dialCode:void 0,dialCodeList:void 0,countryCodeList:void 0,totpIssuer:void 0,value:void 0,values:void 0,textDirection:o};if(i)if(d.authFieldsWithDefaults.includes(i)){if(i in d.defaultFormFieldOptions){const e=d.defaultFormFieldOptions[i];a={...e,name:i,label:(0,d.translate)(e.label),values:void 0}}}else if("custom"===i){const o="custom:"+(l||"");t=e.formFields&&e.formFields.find(e=>e.name===o),a.name=o}else a.name=l||"";else a.name=l||"";if(a.name)return t&&("default"!==t.type&&(a.type=t.type),"checkbox"===a.type&&r&&(a.value="on"),"radio"!==a.type&&"select"!==a.type&&"country"!==a.type||(a.value=c),t.values&&(a.values=t.values.map(e=>({value:e.value,label:(0,d.translate)(e.label)})))),a.hidden=m,a.isRequired=u,f&&(a.label=(0,d.translate)(f)),a.labelHidden=p,b&&(a.placeholder=(0,d.translate)(b)),h&&(a.autocomplete=h),a.dialCode=v||void 0,g&&(a.dialCodeList=g),y&&(a.countryCodeList=y),a},[e,i,h,y,l,r,c,v,g,o,m,f,p,b,u]),k=(0,s.useMemo)(()=>i?d.authFieldsWithDefaults.includes(i)?i:"custom"===i?"custom:"+(l||""):name:l||"",[i,l]);return F&&(0,n.jsx)(d.FormField,{...F,className:C,value:!t&&a?.userAttributes&&i?(a?.userAttributes)[k]||"":F.value})},u=["Header","Footer"],m=["Header","Footer","FormFields"],f={Header:null,Footer:null,ConfirmSignIn:u,ConfirmSignUp:u,ConfirmResetPassword:u,ConfirmVerifyUser:u,EditAccount:m,ForceNewPassword:u,ForgotPassword:u,SetupTotp:u,SignIn:u,SignUp:m,VerifyUser:u,ChangePassword:u};function p(e){if("text"===e.type){var t;const a=e,o=(0,i.decode)(null!==(t=a.data)&&void 0!==t?t:"");o&&(a.data=(0,d.translate)(o))}else"children"in e&&Array.isArray(e.children)&&e.children.forEach(p)}const b=(0,r.gF)(),h={toSignIn:()=>b.cognito.toSignIn?.(),toForgotPassword:()=>b.cognito.toForgotPassword?.(),toSignUp:()=>b.cognito.toSignUp?.()};function v(e,t,a,r,s,u){const m={},b="string"==typeof r?(0,i.decode)(r):null,v=o.Hh(null!=b?b:""),g=s?o.Hh(s):null;g&&g("[custom-part] > summary").remove();for(const o in f)if("Header"===o||"Footer"===o){let e=v(`[custom-part="${o}"]`);if(0===e.length&&g&&(e=g(`[custom-part="${o}"]`).remove("summary")),e.length>0){e.contents().each((e,t)=>{if("tag"===t.type&&t.children.forEach(e=>{p(e)}),"text"===t.type){var a;const e=(0,i.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,d.translate)(e))}});const t=()=>(0,n.jsx)(n.Fragment,{children:(0,l.Ay)(s?e.html():e.contents().contents().toString())});"Header"===o?m.Header=t:m.Footer=t}}else for(const r of f[o]){let f=v(`[custom-part="${o}-${r}"]`);0===f.length&&g&&(f=g(`[custom-part="${o}-${r}"]`)),f.length>0&&(m[o]||(m[o]={}),m[o][r]=()=>(f.contents().each((e,t)=>{if("tag"===t.type&&t.children.forEach(e=>{p(e)}),"text"===t.type){var a;const e=(0,i.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,d.translate)(e))}}),(0,n.jsx)(n.Fragment,{children:(0,l.Ay)(s?f.html():f.contents().contents().toString(),{replace:o=>{if(o instanceof l.Hg&&o.attribs?.onclick){const{onclick:e,...t}=o.attribs,a=e.trim(),i=/^([a-zA-Z_$][\w$]*)\(\s*\)$/.exec(a);if(!i)return;const d=h[i[1]];if(!d)return;return(0,n.jsx)("a",{...(0,l.$5)(t),onClick:d,children:(0,l.zd)(o.children)})}if(o instanceof l.Hg&&"div"===o.name&&(void 0!==o.attribs["gatey-form-field"]||o.attribs.class?.includes("wp-block-gatey-form-field")))return(0,n.jsx)(c,{config:e,isPreview:t,account:a,attribute:o.attribs["data-attribute"]||"",custom:o.attribs["data-custom"],defaultChecked:"true"===o.attribs["data-default-checked"],defaultValue:o.attribs["data-default-value"]||"",required:"true"===o.attribs["data-required"],hidden:"true"===o.attribs["data-hidden"],label:o.attribs["data-label"],labelHidden:"true"===o.attribs["data-label-hidden"],placeholder:o.attribs["data-placeholder"],autocomplete:o.attribs["data-autocomplete"]||"off",dialCode:o.attribs["data-dial-code"]||"",dialCodeList:o.attribs["data-dial-code-list"]?o.attribs["data-dial-code-list"].split(",").map(e=>e.trim().toUpperCase()):void 0,countryCodeList:o.attribs["data-country-code-list"]?o.attribs["data-country-code-list"].split(",").map(e=>e.trim().toUpperCase()):void 0,direction:u,className:o.attribs.class||""})}})})))}return m}}}]);