"use strict";(globalThis.webpackChunk_smart_cloud_gatey_blocks=globalThis.webpackChunk_smart_cloud_gatey_blocks||[]).push([[858],{33858:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var o=a(716),i=a(10900),l=a(30417),r=a(66067),d=a(51609),s=a(87160),n=a(53958),c=a(79699),u=a(10790);const p=({isPreview:e,account:t,direction:a,attribute:i,custom:l,defaultChecked:r,defaultValue:p,required:b,hidden:m,label:f,labelHidden:v,type:h,placeholder:y,autocomplete:g,dialCode:C,dialCodeList:k,countryCodeList:H,values:S,className:w})=>{const[F,x]=(0,d.useState)(),[T,U]=(0,d.useState)();return(0,d.useEffect)((()=>{let e={name:"",label:"",placeholder:void 0,type:"text",hidden:void 0,labelHidden:void 0,isRequired:void 0,autocomplete:void 0,dialCode:void 0,dialCodeList:void 0,countryCodeList:void 0,totpIssuer:void 0,value:void 0,values:void 0,textDirection:a};if(i)if(s._0.includes(i)){if(x(i),i in n.Ui){const t=n.Ui[i];e={...t,name:i,label:(0,o.Tl)(t.label),values:void 0}}}else if("custom"===i){const t="custom:"+(l||"");e.name=t,x(t)}else{const t=l||"";e.name=t,x(t)}else{const t=l||"";e.name=t,x(t)}e.name&&(h&&"default"!==h&&(e.type=h),"checkbox"===e.type&&r&&(e.value="on"),"radio"!==e.type&&"select"!==e.type&&"country"!==e.type||(e.value=p),e.hidden=m,e.isRequired=b,f&&(e.label=(0,o.Tl)(f)),e.labelHidden=v,y&&(e.placeholder=(0,o.Tl)(y)),g&&(e.autocomplete=g),e.dialCode=C||void 0,k&&(e.dialCodeList=k),H&&(e.countryCodeList=H),S&&(e.values=S.map((e=>({value:e.value,label:(0,o.Tl)(e.label)})))),U(e))}),[i,g,H,l,r,p,C,k,a,m,f,v,y,b,h,S]),T&&(0,u.jsx)(c.z,{...T,className:w,value:!e&&t?.userAttributes&&i&&"transient"!==i?(t?.userAttributes)[F]||"":T.value})},b=["Header","Footer"],m=["Header","Footer","FormFields"],f={Header:null,Footer:null,ConfirmSignIn:b,ConfirmSignUp:b,ConfirmResetPassword:b,ConfirmVerifyUser:b,EditAccount:m,ForceNewPassword:b,ForgotPassword:b,SetupTotp:b,SignIn:b,SignUp:m,VerifyUser:b,ChangePassword:b};function v(e){if("text"===e.type){var t;const a=e,i=(0,r.decode)(null!==(t=a.data)&&void 0!==t?t:"");i&&(a.data=(0,o.Tl)(i))}else"children"in e&&Array.isArray(e.children)&&e.children.forEach(v)}const h={toSignIn:()=>Gatey.cognito.toSignIn?.(),toForgotPassword:()=>Gatey.cognito.toForgotPassword?.(),toSignUp:()=>Gatey.cognito.toSignUp?.()};function y(e,t,a,d,s){const n={},c="string"==typeof a?(0,r.decode)(a):null,b=l.Hh(null!=c?c:""),m=d?l.Hh(d):null;m&&m("[custom-part] > summary").remove();for(const a in f)if("Header"===a||"Footer"===a){let e=b(`[custom-part="${a}"]`);if(0===e.length&&m&&(e=m(`[custom-part="${a}"]`).remove("summary")),e.length>0){e.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{v(e)})),"text"===t.type){var a;const e=(0,r.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,o.Tl)(e))}}));const t=()=>(0,u.jsx)(u.Fragment,{children:(0,i.Ay)(d?e.html():e.contents().contents().toString())});"Header"===a?n.Header=t:n.Footer=t}}else for(const l of f[a]){let c=b(`[custom-part="${a}-${l}"]`);0===c.length&&m&&(c=m(`[custom-part="${a}-${l}"]`)),c.length>0&&(n[a]||(n[a]={}),n[a][l]=()=>(c.contents().each(((e,t)=>{if("tag"===t.type&&t.children.forEach((e=>{v(e)})),"text"===t.type){var a;const e=(0,r.decode)(null!==(a=t.nodeValue)&&void 0!==a?a:"");e&&(t.nodeValue=(0,o.Tl)(e))}})),(0,u.jsx)(u.Fragment,{children:(0,i.Ay)(d?c.html():c.contents().contents().toString(),{replace:a=>{if(a instanceof i.Hg&&a.attribs?.onclick){const{onclick:e,...t}=a.attribs,o=e.trim(),l=/^([a-zA-Z_$][\w$]*)\(\s*\)$/.exec(o);if(!l)return;const r=h[l[1]];if(!r)return;return(0,u.jsx)("a",{...(0,i.$5)(t),onClick:r,children:(0,i.zd)(a.children)})}if(a instanceof i.Hg&&"div"===a.name&&(void 0!==a.attribs["gatey-form-field"]||a.attribs.class?.includes("wp-block-gatey-form-field"))){let o;try{o=a.attribs["data-values"]?JSON.parse(atob(a.attribs["data-values"])):void 0}catch(e){console.error("Error parsing values:",e)}return(0,u.jsx)(p,{isPreview:e,account:t,attribute:a.attribs["data-attribute"]||"transient",custom:a.attribs["data-custom"],defaultChecked:"1"===a.attribs["data-default-checked"],defaultValue:a.attribs["data-default-value"]||"",required:"1"===a.attribs["data-required"],hidden:"1"===a.attribs["data-hidden"],label:a.attribs["data-label"],labelHidden:"1"===a.attribs["data-label-hidden"],placeholder:a.attribs["data-placeholder"],autocomplete:a.attribs["data-autocomplete"]||"off",dialCode:a.attribs["data-dial-code"]||"",dialCodeList:a.attribs["data-dial-code-list"]?a.attribs["data-dial-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,countryCodeList:a.attribs["data-country-code-list"]?a.attribs["data-country-code-list"].split(",").map((e=>e.trim().toUpperCase())):void 0,type:a.attribs["data-type"]||"default",values:o||[],direction:s,className:a.attribs.class||""})}}})})))}return n}}}]);