"use strict";(globalThis.webpackChunk_smart_cloud_gatey_blocks=globalThis.webpackChunk_smart_cloud_gatey_blocks||[]).push([[858],{33858:(t,e,a)=>{a.r(e),a.d(e,{default:()=>y});var o=a(10900),i=a(30417),l=a(66067),r=a(51609),d=a(87160),s=a(53958),n=a(716),c=a(79699),u=a(10790);const p=({isPreview:t,account:e,direction:a,attribute:o,custom:i,defaultChecked:l,defaultValue:p,required:b,hidden:m,label:f,labelHidden:v,type:h,placeholder:y,autocomplete:g,dialCode:C,dialCodeList:k,countryCodeList:H,values:S,className:w})=>{const[F,x]=(0,r.useState)(),[U,$]=(0,r.useState)();return(0,r.useEffect)((()=>{let t={name:"",label:"",placeholder:void 0,type:"text",hidden:void 0,labelHidden:void 0,isRequired:void 0,autocomplete:void 0,dialCode:void 0,dialCodeList:void 0,countryCodeList:void 0,totpIssuer:void 0,value:void 0,values:void 0,textDirection:a};if(o)if(d._0.includes(o)){if(x(o),o in s.Ui){const e=s.Ui[o];t={...e,name:o,label:(0,n.Tl)(e.label),values:void 0}}}else if("custom"===o){const e="custom:"+(i||"");t.name=e,x(e)}else{const e=i||"";t.name=e,x(e)}else{const e=i||"";t.name=e,x(e)}t.name&&(h&&"default"!==h&&(t.type=h),"checkbox"===t.type&&l&&(t.value="on"),"radio"!==t.type&&"select"!==t.type&&"country"!==t.type||(t.value=p),t.hidden=m,t.isRequired=b,f&&(t.label=(0,n.Tl)(f)),t.labelHidden=v,y&&(t.placeholder=(0,n.Tl)(y)),g&&(t.autocomplete=g),t.dialCode=C||void 0,k&&(t.dialCodeList=k),H&&(t.countryCodeList=H),S&&(t.values=S.map((t=>({value:t.value,label:(0,n.Tl)(t.label)})))),$(t))}),[o,g,H,i,l,p,C,k,a,m,f,v,y,b,h,S]),U&&(0,u.jsx)(c.z,{...U,className:w,value:!t&&e?.userAttributes&&o&&"transient"!==o?(e?.userAttributes)[F]||"":U.value})},b=["Header","Footer"],m=["Header","Footer","FormFields"],f={Header:null,Footer:null,ConfirmSignIn:b,ConfirmSignUp:b,ConfirmResetPassword:b,ConfirmVerifyUser:b,EditAccount:m,ForceNewPassword:b,ForgotPassword:b,SetupTotp:b,SignIn:b,SignUp:m,VerifyUser:b,ChangePassword:b};function v(t){if("text"===t.type){var e;const a=t,o=(0,l.decode)(null!==(e=a.data)&&void 0!==e?e:"");o&&(a.data=Gatey.cognito.translate(o))}else"children"in t&&Array.isArray(t.children)&&t.children.forEach(v)}const h={toSignIn:()=>Gatey.cognito.toSignIn?.(),toForgotPassword:()=>Gatey.cognito.toForgotPassword?.(),toSignUp:()=>Gatey.cognito.toSignUp?.()};function y(t,e,a,r,d){const s={},n="string"==typeof a?(0,l.decode)(a):null,c=i.Hh(null!=n?n:""),b=r?i.Hh(r):null;b&&b("[custom-part] > summary").remove();for(const a in f)if("Header"===a||"Footer"===a){let t=c(`[custom-part="${a}"]`);if(0===t.length&&b&&(t=b(`[custom-part="${a}"]`).remove("summary")),t.length>0){t.contents().each(((t,e)=>{if("tag"===e.type&&e.children.forEach((t=>{v(t)})),"text"===e.type){var a;const t=(0,l.decode)(null!==(a=e.nodeValue)&&void 0!==a?a:"");t&&(e.nodeValue=Gatey.cognito.translate(t))}}));const e=()=>(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(r?t.html():t.contents().contents().toString())});"Header"===a?s.Header=e:s.Footer=e}}else for(const i of f[a]){let n=c(`[custom-part="${a}-${i}"]`);0===n.length&&b&&(n=b(`[custom-part="${a}-${i}"]`)),n.length>0&&(s[a]||(s[a]={}),s[a][i]=()=>(n.contents().each(((t,e)=>{if("tag"===e.type&&e.children.forEach((t=>{v(t)})),"text"===e.type){var a;const t=(0,l.decode)(null!==(a=e.nodeValue)&&void 0!==a?a:"");t&&(e.nodeValue=Gatey.cognito.translate(t))}})),(0,u.jsx)(u.Fragment,{children:(0,o.Ay)(r?n.html():n.contents().contents().toString(),{replace:a=>{if(a instanceof o.Hg&&a.attribs?.onclick){const{onclick:t,...e}=a.attribs,i=t.trim(),l=/^([a-zA-Z_$][\w$]*)\(\s*\)$/.exec(i);if(!l)return;const r=h[l[1]];if(!r)return;return(0,u.jsx)("a",{...(0,o.$5)(e),onClick:r,children:(0,o.zd)(a.children)})}if(a instanceof o.Hg&&"div"===a.name&&(void 0!==a.attribs["gatey-form-field"]||a.attribs.class?.includes("wp-block-gatey-form-field"))){let o;try{o=a.attribs["data-values"]?JSON.parse(atob(a.attribs["data-values"])):void 0}catch(t){console.error("Error parsing values:",t)}return(0,u.jsx)(p,{isPreview:t,account:e,attribute:a.attribs["data-attribute"]||"transient",custom:a.attribs["data-custom"],defaultChecked:"1"===a.attribs["data-default-checked"],defaultValue:a.attribs["data-default-value"]||"",required:"1"===a.attribs["data-required"],hidden:"1"===a.attribs["data-hidden"],label:a.attribs["data-label"],labelHidden:"1"===a.attribs["data-label-hidden"],placeholder:a.attribs["data-placeholder"],autocomplete:a.attribs["data-autocomplete"]||"off",dialCode:a.attribs["data-dial-code"]||"",dialCodeList:a.attribs["data-dial-code-list"]?a.attribs["data-dial-code-list"].split(",").map((t=>t.trim().toUpperCase())):void 0,countryCodeList:a.attribs["data-country-code-list"]?a.attribs["data-country-code-list"].split(",").map((t=>t.trim().toUpperCase())):void 0,type:a.attribs["data-type"]||"default",values:o||[],direction:d,className:a.attribs.class||""})}}})})))}return s}}}]);